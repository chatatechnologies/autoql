<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title></title>
        <!-- <link rel="stylesheet" type="text/css" href="https://cdn.chata.io/autoql/latest/autoql-styles.css">
        <script src="https://cdn.chata.io/autoql/latest/autoql.js"></script> -->
        <link rel="stylesheet" type="text/css" href="css_test/1.css">
        <link rel="stylesheet" type="text/css" href="css_test/2.css">
        <link rel="stylesheet" type="text/css" href="css_test/3.css">

        <!-- <link rel="stylesheet" href="https://unpkg.com/tippy.js@5/dist/backdrop.css" /> -->
        <!-- <script src="https://unpkg.com/web-animations-js@2.3.2/web-animations.min.js"></script> -->
        <!-- <script src="https://unpkg.com/muuri@0.8.0/dist/muuri.min.js"></script> -->


        <link rel="stylesheet" type="text/css" href="css/Tabulator.css">
        <link rel="stylesheet" type="text/css" href="css/TabulatorBootstrap.css">
        <link rel="stylesheet" type="text/css" href="css/ChataTable.css">
        <link rel="stylesheet" type="text/css" href="css/chata-styles.css">
        <link rel="stylesheet" type="text/css" href="css/Dashboard.css">
        <link rel="stylesheet" type="text/css" href="css/Modal.css">
        <link rel="stylesheet" type="text/css" href="css/ColumnEditor.css">
        <link rel="stylesheet" type="text/css" href="css/Notifications.css">
        <link rel="stylesheet" type="text/css" href="css/NotificationSettings.css">
        <link rel="stylesheet" type="text/css" href="css/Spinner.css">
        <link rel="stylesheet" type="text/css" href="css/PopoverMenu.css">
        <link rel="stylesheet" type="text/css" href="css/PopoverChartSelector.css">
        <link rel="stylesheet" type="text/css" href="css/Cascader.css">
        <link rel="stylesheet" type="text/css" href="css/Safetynet.css">
        <link rel="stylesheet" type="text/css" href="css/Antd.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script src="src/popper.min.js"></script>
        <script src="src/tippy.min.js"></script>
        <script src="src/muuri.min.js"></script>
        <script src="src/moment.js"></script>
        <script src="src/Tabulator.min.js"></script>

        <script src="src/d3.v4.js"></script>
        <script src="js_test/d3-lefort.js"></script>
        <script src="src/d3-compatibility.js"></script>
        <script src="src/d3-legend-v4.js"></script>
        <script src="src/d3-legend-v3.js"></script>
        <script src="src/svgIcons.js"></script>
        <script src="src/constants.js"></script>
        <script src="src/utils.js"></script>
        <script src="src/Cascader.js"></script>
        <script src="src/ChataChartHelpers.js"></script>
        <script src="src/Safetynet.js"></script>
        <script src="src/ChataTable.js"></script>
        <script src="src/ChataHeatmapChart.js"></script>
        <script src="src/ChataBubbleChart.js"></script>
        <script src="src/ChataBarChart.js"></script>
        <script src="src/ChataColumnChart.js"></script>
        <script src="src/ChataLineChart.js"></script>
        <script src="src/ChataStackedColumnChart.js"></script>
        <script src="src/ChataStackedBarChart.js"></script>
        <script src="src/ChataAreaChart.js"></script>
        <script src="src/ChataGroupedColumnChart.js"></script>
        <script src="src/ChataGroupedLineChart.js"></script>
        <script src="src/ChataGroupedBarChart.js"></script>
        <script src="src/ChataPieChart.js"></script>
        <script src="src/QueryOutput.js"></script>
        <script src="src/QueryInput.js"></script>
        <script src="src/ChataUtils.js"></script>
        <script src="src/DataMessenger.js"></script>
        <script src="src/Modal.js"></script>
        <script src="src/Tile.js"></script>
        <script src="src/Dashboard.js"></script>
        <script src="src/NotificationList.js"></script>
        <script src="src/Notification.js"></script>
        <script src="src/NotificationSettingsModal.js"></script>
        <script src="src/Settings.js"></script>
        <script src="src/SettingsItem.js"></script>
        <script src="src/split.min.js"></script>
        <script src="src/PopoverChartSelector.js"></script>
        <script src="src/AntdMessage.js"></script>


    </head>
    <body>
        <div id="datamessenger">

        </div>
        <div id="chata" class="chata">

        </div>
    </body>
    <script>
    var _token = `eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiNzUxZmYzY2YxMjA2ZGUwODJhNzM1MjY5OTI2ZDg0NTgzYjcyOTZmNCJ9.eyJpYXQiOiAxNTk4MDIwMTk2LCAiZXhwIjogMTU5ODA0MTc5NiwgImlzcyI6ICJkZW1vMy1qd3RhY2NvdW50QHN0YWdpbmctMjQ1NTE0LmlhbS5nc2VydmljZWFjY291bnQuY29tIiwgImF1ZCI6ICJkZW1vMy1zdGFnaW5nLmNoYXRhLmlvIiwgInN1YiI6ICJkZW1vMy1qd3RhY2NvdW50QHN0YWdpbmctMjQ1NTE0LmlhbS5nc2VydmljZWFjY291bnQuY29tIiwgImVtYWlsIjogImRlbW8zLWp3dGFjY291bnRAc3RhZ2luZy0yNDU1MTQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCAicHJvamVjdF9pZCI6ICJzcGlyYS1kZW1vMyIsICJ1c2VyX2lkIjogInZpZGh5YUBjaGF0YS5haSIsICJkaXNwbGF5X25hbWUiOiAidmlkaHlhQGNoYXRhLmFpIiwgInJlc291cmNlX2FjY2VzcyI6IFsiL2F1dG9xbC9hcGkvdjEvcnVsZXMvKioiLCAiL2F1dG9xbC9hcGkvdjEvcXVlcnkiLCAiL2F1dG9xbC9hcGkvdjEvcnVsZXMiLCAiL2F1dG9xbC9hcGkvdjEvcXVlcnkvKioiXX0=.nth1H7NGaHphpuhS4V6yaaa9oJSBLOqSm0eXYVGYjMW9pdWlYl-4hqxrYPJKGrdm7Mdp8f2R7W1jn7DRPatUR97AvNHarazWu78TPx5tT-Yq8ln6CqJPASvMrG1MqSNoaTH_KTcLJEJEsLlwr-fXZLPA13_xclBCS9JWazFChC8i00OTUnTKHqvmywqzjd8hu_Ie6B7KObjN6B300_5K1zmS8osCigAjMOGU05UwLKUSCDsfDVG0RSQ1cx1EV9aPLCggFlOIOqfNfPew8Z-7Vtbtgd7egJDSmuXmgWTi0pxZXJCEYgzjMiScevX6FE0JNGETMFFs5aLAb3blD9CzBw==`;
    var datamessenger = new DataMessenger('#datamessenger', {
        authentication: {
            // demo: true
            token: _token,
            apiKey: 'AIzaSyD4ewBvQdgdYfXl3yIzXbVaSyWGOcRFVeU',
            customerId: 'spira-demo3',
            userId: 'vidhya@chata.ai',
            domain: 'https://spira-staging.chata.io',
            demo: false
        },
        themeConfig: {
            chartColors: ['#355C7D', '#6C5B7B', '#C06C84', '#f67280', '#F8B195'],
        },
        autoQLConfig: {
            debug: true
        },
        placement: 'right',
        onMaskClick: function(datamessenger){
            datamessenger.closeDrawer();
            console.log(DataMessenger.name);
            console.log(QueryOutput.name);
        },
        resizable: true,
        width: 550
    })
        var dashboard = new Dashboard('.chata', {
            themeConfig: {
                chartColors: ['#355C7D', '#6C5B7B', '#C06C84', '#f67280', '#F8B195'],
            },
            authentication: {
                token: _token,
                apiKey: 'AIzaSyD4ewBvQdgdYfXl3yIzXbVaSyWGOcRFVeU',
                customerId: 'spira-demo3',
                userId: 'vidhya@chata.ai',
                domain: 'https://spira-staging.chata.io',
                demo: false
            },
            tiles: [
                {
                    key: '0',
                    w: 3,
                    h: 2,
                    query: 'total profit this month',
                    title: 'Profit - Current Month'
                },
                {
                    key: '1',
                    w: 3,
                    h: 2,
                    query: 'total profit last month',
                    title: 'Profit - Previous Month'
                },
                {
                    key: '2',
                    w: 3,
                    h: 2,
                    query: 'total profit ytd',
                    title: 'Profit - YTD'
                },
                {
                    key: '3',
                    w: 3,
                    h: 2,
                    query: 'last years profit',
                    title: 'Profit - Previous Year'
                },
                {
                    key: '4',
                    w: 6,
                    h: 5,
                    query: 'profit by month last 6 months',
                    displayType: 'line',
                    title: 'Monthly Profit'
                },
                {
                    key: '5',
                    w: 6,
                    h: 5,
                    query: 'profit by month last year',
                    displayType: 'line',
                    title: '2019 Monthly Profit'
                },
                {
                    key: '6',
                    w: 6,
                    h: 5,
                    query: 'profit by class last year',
                    displayType: 'column',
                    title: 'Total Profit by Class (2019)'
                },
                {
                    key: '7',
                    w: 6,
                    h: 5,
                    query: 'profit by customer last year',
                    displayType: 'column',
                    title: 'Total Profit by Customer (2019)'
                },
                {
                    key: '8',
                    w: 6,
                    h: 5,
                    query: 'total profit by class by month last 6 months',
                    displayType: 'heatmap',
                    title: 'Product Profitability'
                },
                {
                    key: '9',
                    w: 6,
                    h: 5,
                    query: 'total profit by customer by month last 6 months',
                    displayType: 'heatmap',
                    title: 'Customer Profitability'
                }
            ],
            onChangeCallback: function() {
                console.log('Dashboard onChangeCallback');
            },
            executeOnMount: true,
            executeOnStopEditing: false,
        });
        dashboard.startEditing();
    </script>
</html>
