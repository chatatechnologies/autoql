/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src_node/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src_node/Utils.js":
/*!***************************!*\
  !*** ./src_node/Utils.js ***!
  \***************************/
/*! exports provided: formatChartData, formatData, formatColumnName, uuidv4, formatDate, copyTextToClipboard, putLoadingContainer, getSafetynetValues, runQuery, deleteSuggestion, csvTo2dArray, getGroupableField, getNotGroupableField, getGroupables, getClickedData, getGroupableCount, getPivotColumnArray, sortPivot, getDatePivotArray, getPivotArray, getSVGString, svgString2Image, mergeOptions, getSpeech, formatLabels, formatDataToHeatmap, formatDataToBarChart, getSupportedDisplayTypesArray, cloneObject, refreshTooltips, tooltipCharts, applyFilter, htmlToElement, createTableContainer, getNumberOfGroupables, supportsRegularPivotTable, isColumnNumberType, isColumnStringType, getColumnTypeAmounts, supports2DCharts, getSupportedDisplayTypes, adjustTableWidth, hideShowTableCols, getStringWidth, allColsHidden, allColHiddenMessage, mouseX, mouseY, getActiveIntegrator, getIntroMessageTopics, closeAllChartPopovers, closeAllSafetynetSelectors, closeAllToolbars, getSuggestionLists, getPlainTextList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatChartData\", function() { return formatChartData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatData\", function() { return formatData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatColumnName\", function() { return formatColumnName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uuidv4\", function() { return uuidv4; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatDate\", function() { return formatDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"copyTextToClipboard\", function() { return copyTextToClipboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"putLoadingContainer\", function() { return putLoadingContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSafetynetValues\", function() { return getSafetynetValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"runQuery\", function() { return runQuery; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteSuggestion\", function() { return deleteSuggestion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"csvTo2dArray\", function() { return csvTo2dArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getGroupableField\", function() { return getGroupableField; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getNotGroupableField\", function() { return getNotGroupableField; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getGroupables\", function() { return getGroupables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getClickedData\", function() { return getClickedData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getGroupableCount\", function() { return getGroupableCount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPivotColumnArray\", function() { return getPivotColumnArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sortPivot\", function() { return sortPivot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDatePivotArray\", function() { return getDatePivotArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPivotArray\", function() { return getPivotArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSVGString\", function() { return getSVGString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"svgString2Image\", function() { return svgString2Image; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mergeOptions\", function() { return mergeOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSpeech\", function() { return getSpeech; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatLabels\", function() { return formatLabels; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatDataToHeatmap\", function() { return formatDataToHeatmap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatDataToBarChart\", function() { return formatDataToBarChart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSupportedDisplayTypesArray\", function() { return getSupportedDisplayTypesArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneObject\", function() { return cloneObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"refreshTooltips\", function() { return refreshTooltips; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tooltipCharts\", function() { return tooltipCharts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"applyFilter\", function() { return applyFilter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"htmlToElement\", function() { return htmlToElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTableContainer\", function() { return createTableContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getNumberOfGroupables\", function() { return getNumberOfGroupables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportsRegularPivotTable\", function() { return supportsRegularPivotTable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isColumnNumberType\", function() { return isColumnNumberType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isColumnStringType\", function() { return isColumnStringType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getColumnTypeAmounts\", function() { return getColumnTypeAmounts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supports2DCharts\", function() { return supports2DCharts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSupportedDisplayTypes\", function() { return getSupportedDisplayTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"adjustTableWidth\", function() { return adjustTableWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideShowTableCols\", function() { return hideShowTableCols; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getStringWidth\", function() { return getStringWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"allColsHidden\", function() { return allColsHidden; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"allColHiddenMessage\", function() { return allColHiddenMessage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mouseX\", function() { return mouseX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mouseY\", function() { return mouseY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getActiveIntegrator\", function() { return getActiveIntegrator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIntroMessageTopics\", function() { return getIntroMessageTopics; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeAllChartPopovers\", function() { return closeAllChartPopovers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeAllSafetynetSelectors\", function() { return closeAllSafetynetSelectors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeAllToolbars\", function() { return closeAllToolbars; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSuggestionLists\", function() { return getSuggestionLists; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPlainTextList\", function() { return getPlainTextList; });\nfunction formatChartData(val, col, options){\r\n    var clone = cloneObject(options);\r\n    clone.dataFormatting.currencyDecimals = 0;\r\n    return formatData(val, col, clone);\r\n}\r\n\r\nfunction formatData(val, col, allOptions={}){\r\n    const options = allOptions.dataFormatting;\r\n    value = '';\r\n    let type = col['type'];\r\n    switch (type) {\r\n        case 'DOLLAR_AMT':\r\n            val = parseFloat(val);\r\n            if(isNaN(val))val = 0;\r\n            const sigDigs = String(parseInt(val.toFixed(2))).length\r\n            value = new Intl.NumberFormat(options.languageCode, {\r\n                style: 'currency',\r\n                currency: options.currencyCode,\r\n                // currency: options.currencyCode,\r\n                minimumFractionDigits: options.currencyDecimals\r\n            }).format(val);\r\n        break;\r\n        case 'DATE':\r\n            var colName = col.name;\r\n            if(colName.includes('year')){\r\n                value = moment(parseInt(val)*1000).format('YYYY');\r\n            }else if(colName.includes('month')){\r\n                value = moment(parseInt(val)*1000).format(\r\n                    options.monthYearFormat\r\n                );\r\n            }else{\r\n                value = moment(parseInt(val)*1000).format(\r\n                    options.dayMonthYearFormat\r\n                );\r\n            }\r\n        break;\r\n        case 'PERCENT':\r\n            if(allOptions.dataFormatting.comparisonDisplay == 'PERCENT'){\r\n                val = parseFloat(val) * 100;\r\n                if(!isNaN(val)){\r\n                    value =  val.toFixed(2) + '%';\r\n                }else{\r\n                    value = '';\r\n                }\r\n            }else{\r\n                value = parseFloat(val).toFixed(4);\r\n            }\r\n        break;\r\n        case 'QUANTITY':\r\n            var n = Math.abs(parseFloat(val)); // Change to positive\r\n            var decimal = n - Math.floor(n);\r\n            if(decimal > 0){\r\n                value = parseFloat(val).toFixed(options.quantityDecimals);\r\n            }else{\r\n                value = parseInt(val);\r\n            }\r\n\r\n        break;\r\n        case 'RATIO':\r\n            if(allOptions.dataFormatting.comparisonDisplay == 'PERCENT'){\r\n                val = parseFloat(val) * 100;\r\n                if(!isNaN(val)){\r\n                    value =  val.toFixed(2) + '%';\r\n                }else{\r\n                    value = '';\r\n                }\r\n            }else{\r\n                value = parseFloat(val).toFixed(4);\r\n            }\r\n        break;\r\n        case 'NUMBER':\r\n            val = parseFloat(val) * 100;\r\n            if(!isNaN(val)){\r\n                value =  val.toFixed(2) + '%';\r\n            }else{\r\n                value = '';\r\n            }\r\n        break;\r\n        case 'DATE_STRING':\r\n            var momentObj = moment(val, 'YYYY-MM');\r\n            value = momentObj.format(options.monthYearFormat);\r\n        break;\r\n        default:\r\n            if(Object.prototype.toString.call(val) === '[object Object]'){\r\n                value = '';\r\n            }else{\r\n                value = val;\r\n            }\r\n    }\r\n    if(value === undefined)return '';\r\n    else return value;\r\n}\r\n\r\nfunction formatColumnName(col){\r\n    return col.replace(/__/g, ' ').replace(/_/g, ' ').\r\n    replace(/(?:^|\\s)\\S/g, function(a) { return a.toUpperCase(); })\r\n}\r\n\r\nfunction uuidv4() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}\r\n\r\nfunction formatDate(date) {\r\n    var day = date.getDate();\r\n    var monthIndex = date.getMonth();\r\n    var year = date.getFullYear();\r\n    // NOTE: this case only occurs in tests\r\n    if(Number.isNaN(monthIndex)){\r\n        year = '1969';\r\n        day = '31';\r\n        monthIndex = 11;\r\n    }\r\n    // return MONTH_NAMES[monthIndex] + ' ' + day + ', ' + year;\r\n    return MONTH_NAMES[monthIndex] + ' ' + year;\r\n}\r\n\r\nfunction copyTextToClipboard(text) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n    document.body.appendChild(textArea);\r\n    textArea.select();\r\n\r\n    try {\r\n        var successful = document.execCommand('copy');\r\n        var msg = successful ? 'successful' : 'unsuccessful';\r\n    } catch (err) {\r\n    }\r\n\r\n    document.body.removeChild(textArea);\r\n}\r\n\r\nfunction putLoadingContainer(target){\r\n    var responseLoadingContainer = document.createElement('div');\r\n    var responseLoading = document.createElement('div');\r\n\r\n    responseLoadingContainer.classList.add('chat-bar-loading');\r\n    responseLoading.classList.add('response-loading');\r\n    for (var i = 0; i <= 3; i++) {\r\n        responseLoading.appendChild(document.createElement('div'));\r\n    }\r\n\r\n    responseLoadingContainer.appendChild(responseLoading);\r\n    target.appendChild(responseLoadingContainer);\r\n    return responseLoadingContainer;\r\n}\r\n\r\nfunction getSafetynetValues(node){\r\n    var nodes = node.getElementsByClassName('safetynet-value');\r\n    var words = [];\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        words.push(nodes[i].textContent.trim());\r\n    }\r\n    return words;\r\n}\r\n\r\nfunction runQuery(event, objContext){\r\n\r\n    if(event.target.tagName == 'svg'){\r\n        var node = event.target.parentElement.parentElement;\r\n    }else if(event.target.tagName == 'path'){\r\n        var node = event.target.parentElement.parentElement.parentElement;\r\n    }else{\r\n        var node = event.target.parentElement;\r\n    }\r\n    if(node.classList.contains('autoql-vanilla-chata-safety-net-execute-btn')){\r\n        node = node.parentElement;\r\n    }\r\n    var words = getSafetynetValues(node);\r\n\r\n    switch (objContext.constructor) {\r\n        case DataMessenger:\r\n            objContext.keyboardAnimation(words.join(' '));\r\n            // objContext.sendMessage(\r\n            //     words.join(' '),\r\n            //     'data_messenger.validation'\r\n            // );\r\n            break;\r\n        default:\r\n            objContext.sendMessageToResponseRenderer(\r\n                words.join(' ')\r\n            );\r\n        ;\r\n    }\r\n}\r\n\r\nfunction deleteSuggestion(event){\r\n    if(event.target.tagName == 'svg'){\r\n        var node = event.target.parentElement;\r\n    }else{\r\n        var node = event.target.parentElement.parentElement;\r\n    }\r\n    node.parentElement.removeChild(node);\r\n}\r\n\r\nfunction csvTo2dArray(parseMe) {\r\n    const splitFinder = /,|\\r?\\n|\"(\\\\\"|[^\"])*?\"/g;\r\n    let currentRow = [];\r\n    const rowsOut = [currentRow];\r\n    let lastIndex = splitFinder.lastIndex = 0;\r\n\r\n    const pushCell = (endIndex) => {\r\n        endIndex = endIndex || parseMe.length;\r\n        const addMe = parseMe.substring(lastIndex, endIndex);\r\n        currentRow.push(addMe.replace(/^\"|\"$/g, \"\"));\r\n        lastIndex = splitFinder.lastIndex;\r\n    }\r\n\r\n    let regexResp;\r\n    while (regexResp = splitFinder.exec(parseMe)) {\r\n        const split = regexResp[0];\r\n\r\n        if (split.startsWith(`\"`) === false) {\r\n            const splitStartIndex = splitFinder.lastIndex - split.length;\r\n            pushCell(splitStartIndex);\r\n\r\n            const isNewLine = /^\\r?\\n$/.test(split);\r\n            if (isNewLine) { rowsOut.push(currentRow = []); }\r\n        }\r\n    }\r\n    pushCell();\r\n    return rowsOut;\r\n}\r\n\r\nfunction getGroupableField(json){\r\n    var r = {\r\n        indexCol: -1,\r\n        jsonCol: {},\r\n        name: ''\r\n    }\r\n    for (var i = 0; i < json['data']['columns'].length; i++) {\r\n        if(json['data']['columns'][i]['groupable']){\r\n            r['indexCol'] = i;\r\n            r['jsonCol'] = json['data']['columns'][i];\r\n            r['name'] = json['data']['columns'][i]['name'];\r\n            return r;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n\r\nfunction getNotGroupableField(json){\r\n    var r = {\r\n        indexCol: -1,\r\n        jsonCol: {},\r\n        name: ''\r\n    }\r\n    for (var i = 0; i < json['data']['columns'].length; i++) {\r\n        if(!json['data']['columns'][i]['groupable']){\r\n            r['indexCol'] = i;\r\n            r['jsonCol'] = json['data']['columns'][i];\r\n            r['name'] = json['data']['columns'][i]['name'];\r\n            return r;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n\r\nfunction getGroupables(json){\r\n    var clone = cloneObject(json);\r\n    var cont = 0;\r\n    var groups = []\r\n    for (var i = 0; i < clone['data']['columns'].length; i++) {\r\n        if(clone['data']['columns'][i]['groupable']){\r\n            clone['data']['columns'][i].index = i;\r\n            groups.push(clone['data']['columns'][i]);\r\n        }\r\n    }\r\n    return groups;\r\n}\r\n\r\nfunction getClickedData(json, ...params){\r\n    var groupables = getGroupables(json);\r\n    var data = {\r\n        supportedByAPI: true,\r\n        data: []\r\n    }\r\n\r\n    for (var i = 0; i < groupables.length; i++) {\r\n        var indexData = groupables[i].index;\r\n        data.data.push({\r\n            name: groupables[i].name,\r\n            value: params[indexData]\r\n        })\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\nfunction getGroupableCount(json){\r\n    var cont = 0;\r\n    for (var i = 0; i < json['data']['columns'].length; i++) {\r\n        if(json['data']['columns'][i]['groupable']){\r\n            cont++;\r\n        }\r\n    }\r\n    return cont;\r\n}\r\n\r\nfunction getPivotColumnArray(json, options, _data){\r\n    var lines = _data;\r\n    var values = [];\r\n    var firstColName = '';\r\n    for (var i = 0; i < lines.length; i++) {\r\n        var data = lines[i];\r\n        var row = [];\r\n        for (var x = 0; x < data.length; x++) {\r\n            if(firstColName == '' && json['data']['columns'][x]['groupable']){\r\n                var name = json['data']['columns'][x]['display_name'] ||\r\n                json['data']['columns'][x]['name'];\r\n                firstColName = name.charAt(0).toUpperCase() + name.slice(1);\r\n            }\r\n            // row.push(formatData(\r\n            //     data[x],\r\n            //     json['data']['columns'][x],\r\n            //     options\r\n            // ));\r\n            row.push(data[x]);\r\n        }\r\n        values.push(row);\r\n    }\r\n    var pivotArray = getPivotArray(values, 0, 1, 2, firstColName);\r\n    return pivotArray;\r\n}\r\n\r\nfunction sortPivot(pivotArray, colIndex, operator){\r\n    pivotArray.shift();\r\n    pivotArray.shift();\r\n\r\n\r\n    if(operator == 'asc'){\r\n        var comparator = function(a, b) {\r\n\r\n            if(a[colIndex].charAt(0) === '$' || a['colIndex'] === '0'){\r\n                return parseFloat(\r\n                    a[colIndex].toString().slice(1)\r\n                ) > parseFloat(b[colIndex].toString().slice(1)) ? 1 : -1;\r\n            }else{\r\n                return (a[colIndex]) > (b[colIndex]) ? 1 : -1;\r\n            }\r\n        }\r\n    }else{\r\n        var comparator = function(a, b) {\r\n            if(a[colIndex].charAt(0) === '$' || a['colIndex'] === '0'){\r\n                return parseFloat(\r\n                    a[colIndex].toString().slice(1)\r\n                ) < parseFloat(b[colIndex].toString().slice(1)) ? 1 : -1;\r\n            }else{\r\n                return (a[colIndex]) < (b[colIndex]) ? 1 : -1;\r\n            }\r\n        }\r\n    }\r\n    return cloneObject(pivotArray.sort(comparator));\r\n}\r\n\r\nfunction getDatePivotArray(json, options, _data){\r\n    var lines = _data;\r\n    var values = [];\r\n    for (var i = 0; i < lines.length; i++) {\r\n        var data = lines[i];\r\n        var row = [];\r\n        for (var x = 0; x < data.length; x++) {\r\n\r\n            switch (json['data']['columns'][x]['type']) {\r\n                case 'DATE':\r\n                    var value = data[x];\r\n                    var date = new Date( parseInt(value) * 1000);\r\n                    row.unshift(\r\n                        MONTH_NAMES[date.getMonth()], date.getFullYear()\r\n                    );\r\n                    break;\r\n                default:\r\n                    // row.push(formatData(\r\n                    //     data[x], json['data']['columns'][x],\r\n                    //     options\r\n                    // )\r\n                    // );\r\n                    row.push(data[x])\r\n            }\r\n        }\r\n        values.push(row);\r\n    }\r\n\r\n    var pivotArray = getPivotArray(values, 0, 1, 2, 'Month');\r\n    return pivotArray;\r\n}\r\n\r\nfunction getPivotArray(dataArray, rowIndex, colIndex, dataIndex, firstColName) {\r\n    var result = {}, ret = [];\r\n    var newCols = [];\r\n    for (var i = 0; i < dataArray.length; i++) {\r\n\r\n        if (!result[dataArray[i][rowIndex]]) {\r\n            result[dataArray[i][rowIndex]] = {};\r\n        }\r\n        result[dataArray[i][rowIndex]][dataArray[i][colIndex]] = dataArray[i][dataIndex];\r\n\r\n        if (newCols.indexOf(dataArray[i][colIndex]) == -1) {\r\n            newCols.push(dataArray[i][colIndex]);\r\n        }\r\n    }\r\n\r\n    newCols.sort();\r\n    var item = [];\r\n\r\n    item.push(firstColName);\r\n    item.push.apply(item, newCols);\r\n    ret.push(item);\r\n\r\n    for (var key in result) {\r\n        item = [];\r\n        item.push(key);\r\n        for (var i = 0; i < newCols.length; i++) {\r\n            item.push(result[key][newCols[i]] || \"\");\r\n        }\r\n        ret.push(item);\r\n    }\r\n    return ret;\r\n}\r\n\r\nfunction getSVGString(svgNode) {\r\n    svgNode.setAttribute('xlink', 'http://www.w3.org/1999/xlink');\r\n    var cssStyleText = getCSSStyles( svgNode );\r\n    appendCSS( cssStyleText, svgNode );\r\n\r\n    var serializer = new XMLSerializer();\r\n    var svgString = serializer.serializeToString(svgNode);\r\n    svgString = svgString.replace(/(\\w+)?:?xlink=/g, 'xmlns:xlink='); // Fix root xlink without namespace\r\n    svgString = svgString.replace(/NS\\d+:href/g, 'xlink:href'); // Safari NS namespace fix\r\n\r\n    return svgString;\r\n\r\n    function getCSSStyles( parentElement ) {\r\n        var selectorTextArr = [];\r\n\r\n        // Add Parent element Id and Classes to the list\r\n        selectorTextArr.push( '#'+parentElement.id );\r\n        for (var c = 0; c < parentElement.classList.length; c++)\r\n        if ( !contains('.'+parentElement.classList[c], selectorTextArr) )\r\n        selectorTextArr.push( '.'+parentElement.classList[c] );\r\n\r\n        // Add Children element Ids and Classes to the list\r\n        var nodes = parentElement.getElementsByTagName(\"*\");\r\n        for (var i = 0; i < nodes.length; i++) {\r\n            var id = nodes[i].id;\r\n            if ( !contains('#'+id, selectorTextArr) )\r\n            selectorTextArr.push( '#'+id );\r\n\r\n            var classes = nodes[i].classList;\r\n            for (var c = 0; c < classes.length; c++)\r\n            if ( !contains('.'+classes[c], selectorTextArr) )\r\n            selectorTextArr.push( '.'+classes[c] );\r\n        }\r\n\r\n        // Extract CSS Rules\r\n        var extractedCSSText = \"\";\r\n        for (var i = 0; i < document.styleSheets.length; i++) {\r\n            var s = document.styleSheets[i];\r\n\r\n            try {\r\n                if(!s.cssRules) continue;\r\n            } catch( e ) {\r\n                if(e.name !== 'SecurityError') throw e; // for Firefox\r\n                continue;\r\n            }\r\n\r\n            var cssRules = s.cssRules;\r\n            for (var r = 0; r < cssRules.length; r++) {\r\n                if ( contains( cssRules[r].selectorText, selectorTextArr ) )\r\n                extractedCSSText += cssRules[r].cssText;\r\n            }\r\n        }\r\n\r\n\r\n        return extractedCSSText;\r\n\r\n        function contains(str,arr) {\r\n            return arr.indexOf( str ) === -1 ? false : true;\r\n        }\r\n\r\n    }\r\n\r\n    function appendCSS( cssText, element ) {\r\n        var styleElement = document.createElement(\"style\");\r\n        styleElement.setAttribute(\"type\",\"text/css\");\r\n        styleElement.innerHTML = cssText;\r\n        var refNode = element.hasChildNodes() ? element.children[0] : null;\r\n        element.insertBefore( styleElement, refNode );\r\n    }\r\n}\r\n\r\nfunction svgString2Image(svgString, width, height) {\r\n    var imgsrc = 'data:image/svg+xml;base64,'+ btoa(\r\n        unescape(encodeURIComponent(svgString))\r\n    );\r\n\r\n    var canvas = document.createElement(\"canvas\");\r\n    var context = canvas.getContext(\"2d\");\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    var image = new Image();\r\n    image.onload = function() {\r\n        context.clearRect ( 0, 0, width, height );\r\n        context.drawImage(image, 0, 0, width, height);\r\n        var link = document.createElement(\"a\");\r\n        link.setAttribute('href', canvas.toDataURL(\"image/png;base64\"));\r\n        link.setAttribute('download', 'Chart.png');\r\n        link.click();\r\n    };\r\n\r\n\r\n    image.src = imgsrc;\r\n}\r\n\r\nfunction mergeOptions(objList){\r\n    var output = [];\r\n    for (var i = 0; i < objList.length; i++) {\r\n        let obj = objList[i];\r\n        for (var [key, value] of Object.entries(obj)) {\r\n            output[key] = value;\r\n        }\r\n    }\r\n    return output;\r\n}\r\n\r\nfunction getSpeech(button){\r\n    window.SpeechRecognition =\r\n    window.webkitSpeechRecognition || window.SpeechRecognition;\r\n    if(window.SpeechRecognition){\r\n        let recognition = new window.SpeechRecognition();\r\n        recognition.interimResults = true;\r\n        recognition.maxAlternatives = 10;\r\n        recognition.continuous = true;\r\n        return recognition;\r\n    }else{\r\n        return false\r\n    }\r\n}\r\n\r\nfunction formatLabels(labels, col, options){\r\n    labels = labels.sort();\r\n    for (var i = 0; i < labels.length; i++) {\r\n        labels[i] = formatData(labels[i], col, options);\r\n    }\r\n    return labels;\r\n}\r\n\r\nfunction formatDataToHeatmap(json, options){\r\n    var lines = json['data']['rows'];\r\n    var values = [];\r\n    var groupables = getGroupableFields(json);\r\n    var notGroupableField = getNotGroupableField(json);\r\n    var groupableIndex1 = groupables[0].indexCol;\r\n    var groupableIndex2 = groupables[1].indexCol;\r\n    var notGroupableIndex = notGroupableField.indexCol;\r\n\r\n    var col1 = json['data']['columns'][groupableIndex1];\r\n    var col2 = json['data']['columns'][groupableIndex2];\r\n\r\n    for (var i = 0; i < lines.length; i++) {\r\n        var data = lines[i];\r\n        var row = {};\r\n        row['labelY'] = formatData(data[groupableIndex1], col1, options);\r\n        row['labelX'] = formatData(data[groupableIndex2], col2, options);\r\n        row['unformatY'] = data[groupableIndex1];\r\n        row['unformatX'] = data[groupableIndex2];\r\n        var value = parseFloat(data[notGroupableIndex]);\r\n        row['value'] = value;\r\n        values.push(row);\r\n    }\r\n    return values;\r\n}\r\n\r\nfunction formatDataToBarChart(json, options){\r\n    var lines = json['data']['rows'];\r\n    var values = [];\r\n    var col1 = json['data']['columns'][0];\r\n    var hasNegativeValues = false;\r\n    var groupableField = getGroupableField(json);\r\n    var notGroupableField = getNotGroupableField(json);\r\n\r\n    for (var i = 0; i < lines.length; i++) {\r\n        var data = lines[i];\r\n        var row = {};\r\n        row['label'] = formatData(\r\n            data[groupableField.indexCol], groupableField.jsonCol, options\r\n        );\r\n        var value = parseFloat(data[notGroupableField.indexCol]);\r\n        if(value < 0 && !hasNegativeValues){\r\n            hasNegativeValues = true;\r\n        }\r\n        row['value'] = value;\r\n\r\n\r\n        values.push(row);\r\n    }\r\n    return [values, hasNegativeValues];\r\n}\r\n\r\nfunction getSupportedDisplayTypesArray(){\r\n    return [\r\n        'table',\r\n        // 'date_pivot',\r\n        'pivot_column',\r\n        'line',\r\n        'bar',\r\n        'column',\r\n        'heatmap',\r\n        'bubble',\r\n        'stacked_bar',\r\n        'stacked_column'\r\n    ];\r\n}\r\n\r\nfunction cloneObject(source) {\r\n    if (Object.prototype.toString.call(source) === '[object Array]') {\r\n        var clone = [];\r\n        for (var i=0; i<source.length; i++) {\r\n            clone[i] = cloneObject(source[i]);\r\n        }\r\n        return clone;\r\n    } else if (typeof(source)==\"object\") {\r\n        var clone = {};\r\n        for (var prop in source) {\r\n            if (source.hasOwnProperty(prop)) {\r\n                clone[prop] = cloneObject(source[prop]);\r\n            }\r\n        }\r\n        return clone;\r\n    } else {\r\n        return source;\r\n    }\r\n}\r\n\r\nfunction refreshTooltips(){\r\n    tippy('.chata-interpretation', {\r\n        theme: 'chata',\r\n        onShow: function(instance){\r\n            var data = ChataUtils.responses[instance.reference.dataset.id]['data'];\r\n            var content  = `<span class='title-tip'>Interpretation:</span> <span class=\"text-tip\">${data['interpretation']}</span>`;\r\n            // if(ChataUtils.options.debug){\r\n            //     content += `</br></br>\r\n            //     <span class='title-tip'>SQL:</span> <span class=\"text-tip\">${data['sql']}</span>\r\n            //     `;\r\n            // }\r\n            instance.setContent(\r\n                content\r\n            );\r\n        }\r\n    });\r\n    tippy('[data-tippy-content]', {\r\n        theme: 'chata',\r\n        delay: [500],\r\n        dynamicTitle: true\r\n    })\r\n}\r\n\r\nfunction tooltipCharts(){\r\n    var get2dContent = (instance) => {\r\n        var dataset = instance.reference.dataset;\r\n        var content  = `<span class='title-tip'>${dataset.col1}:</span> <span class=\"text-tip\">${dataset.colvalue1}</span>`;\r\n        content += '<br/>';\r\n        content += `<span class='title-tip'>${dataset.col2}:</span> <span class=\"text-tip\">${dataset.colvalue2}</span>`\r\n        return content;\r\n    }\r\n\r\n    tippy('.tooltip-2d', {\r\n        theme: 'chata',\r\n        onShow: function(instance){\r\n            instance.setContent(\r\n                get2dContent(instance)\r\n            );\r\n        }\r\n    })\r\n\r\n    tippy('.tooltip-3d', {\r\n        theme: 'chata',\r\n        onShow: function(instance){\r\n            var dataset = instance.reference.dataset;\r\n            var content = get2dContent(instance);\r\n            content += '<br/>';\r\n            content += `<span class='title-tip'>${dataset.col3}:</span> <span class=\"text-tip\">${dataset.colvalue3}</span>`;\r\n            instance.setContent(\r\n                content\r\n            );\r\n        }\r\n    })\r\n}\r\n\r\nfunction applyFilter(idRequest, array){\r\n    var _table = document.querySelector(`[data-componentid='${idRequest}']`);\r\n    var inputs = _table.headerElement.getElementsByTagName('input');\r\n    var json = ChataUtils.responses[_table.dataset.componentid];\r\n    var rows = array || cloneObject(json['data']['rows']);\r\n    for (var i = 0; i < inputs.length; i++) {\r\n        if(inputs[i].value == '')continue;\r\n        var colType = inputs[i].colType;\r\n        var compareValue = inputs[i].value.toLowerCase();\r\n        rows = rows.filter(function(elem){\r\n            var v = elem[i];\r\n            if(colType == 'DATE'){\r\n                var formatDate = formatData(\r\n                    v,\r\n                    json['data']['columns'][i],\r\n                    ChataUtils.options\r\n            );\r\n                return formatDate.toLowerCase().includes(compareValue);\r\n            }else if(\r\n                colType == 'DOLLAR_AMT' ||\r\n                colType == 'QUANTITY' ||\r\n                colType == 'PERCENT'\r\n            ) {\r\n                var trimmedValue = compareValue.trim();\r\n                if (trimmedValue.length >= 2) {\r\n                    const number = parseFloat(trimmedValue.substr(1));\r\n                    if (trimmedValue[0] === '>' && trimmedValue[1] === '=') {\r\n                        return v >= number;\r\n                    } else if (trimmedValue[0] === '>') {\r\n                        return v > number;\r\n                    } else if (trimmedValue[0] === '<' && trimmedValue[1] === '=') {\r\n                        return v <= number;\r\n                    } else if (trimmedValue[0] === '<') {\r\n                        return v < number;\r\n                    } else if (trimmedValue[0] === '!' && trimmedValue[1] === '=') {\r\n                        return v !== number;\r\n                    } else if (trimmedValue[0] === '=') {\r\n                        return v === number;\r\n                    }\r\n                }\r\n                return v.toString().includes(compareValue);\r\n            }else{\r\n                return v.toString().toLowerCase().includes(compareValue);\r\n            }\r\n        });\r\n    }\r\n    return rows;\r\n}\r\n\r\nfunction htmlToElement(html) {\r\n    var template = document.createElement('template');\r\n    html = html.trim();\r\n    template.innerHTML = html;\r\n    return template.content.firstChild;\r\n}\r\n\r\nfunction createTableContainer(){\r\n    var div = document.createElement('div');\r\n    div.classList.add('autoql-vanilla-chata-table');\r\n    return div;\r\n}\r\n\r\nconst getNumberOfGroupables = columns => {\r\n    if (columns) {\r\n        let numberOfGroupables = 0\r\n        columns.forEach(col => {\r\n            if (col.groupable) {\r\n                numberOfGroupables += 1\r\n            }\r\n        })\r\n        return numberOfGroupables\r\n    }\r\n    return null\r\n}\r\n\r\nconst supportsRegularPivotTable = columns => {\r\n    const hasTwoGroupables = getNumberOfGroupables(columns) === 2\r\n    return hasTwoGroupables && columns.length === 3\r\n}\r\n\r\nconst isColumnNumberType = col => {\r\n    const type = col.type\r\n    return (\r\n        type === 'DOLLAR_AMT' ||\r\n        type === 'QUANTITY' ||\r\n        type === 'PERCENT' ||\r\n        type === 'RATIO'\r\n    )\r\n}\r\n\r\nconst isColumnStringType = col => {\r\n    const  type = col.type\r\n    return type === 'STRING' || type === 'DATE_STRING' || type === 'DATE'\r\n}\r\n\r\nconst getColumnTypeAmounts = columns => {\r\n    let amountOfStringColumns = 0\r\n    let amountOfNumberColumns = 0\r\n\r\n    columns.forEach(col => {\r\n        if (isColumnNumberType(col)) {\r\n            amountOfNumberColumns += 1\r\n        } else if (isColumnStringType(col)) {\r\n            amountOfStringColumns += 1\r\n        }\r\n    })\r\n\r\n    return { amountOfNumberColumns, amountOfStringColumns }\r\n}\r\n\r\nconst supports2DCharts = columns => {\r\n    const amounts =\r\n    getColumnTypeAmounts(\r\n        columns\r\n    )\r\n\r\n    return amounts.amountOfNumberColumns > 0\r\n    && amounts.amountOfStringColumns > 0\r\n}\r\n\r\nconst getSupportedDisplayTypes = response => {\r\n    try {\r\n        if (!response.data.display_type) {\r\n            return []\r\n        }\r\n\r\n        const displayType = response.data.display_type\r\n\r\n        if (displayType === 'suggestion' || displayType === 'help') {\r\n            return [displayType]\r\n        }\r\n\r\n        const columns = response.data.columns || [];\r\n        const rows = response.data.rows || [];\r\n\r\n        if (!columns || rows.length <= 1) {\r\n            return []\r\n        }\r\n\r\n        if (supportsRegularPivotTable(columns)) {\r\n            let supportedDisplayTypes = ['table']\r\n            if (rows.length < 1000) {\r\n                supportedDisplayTypes = [\r\n                    'pivot_table',\r\n                    'stacked_bar',\r\n                    'stacked_column',\r\n                    'stacked_line',\r\n                    'bubble',\r\n                    'heatmap',\r\n                    'table'\r\n                ]\r\n            }\r\n            return supportedDisplayTypes\r\n        } else if (supports2DCharts(columns)) {\r\n            const supportedDisplayTypes = ['table', 'bar', 'column', 'line']\r\n            supportedDisplayTypes.push('pie')\r\n                const dateColumn = columns.find(\r\n                    col => col.type === 'DATE' || col.type === 'DATE_STRING'\r\n                )\r\n\r\n                if(dateColumn){\r\n                    if (\r\n                        dateColumn.name &&\r\n                        dateColumn.name.toLowerCase().includes('month') &&\r\n                        columns.length === 2\r\n                    ) {\r\n                        supportedDisplayTypes.push('pivot_table')\r\n                    }\r\n                }\r\n                return supportedDisplayTypes\r\n            }\r\n            return ['table']\r\n        } catch (error) {\r\n            console.error(error)\r\n            return ['table']\r\n        }\r\n}\r\n\r\nasync function adjustTableWidth(table, thArray, cols, selector='[data-indexrow]', offset=0){\r\n\r\n    var headerWidth = 0;\r\n    var rowsElements = table.querySelectorAll(selector);\r\n    var tdEl = rowsElements[0].getElementsByTagName('td');\r\n    var sizes = [];\r\n    for (var x = 0; x < tdEl.length; x++) {\r\n\r\n        if(cols[x] && 'is_visible' in cols[x] && !cols[x]['is_visible'])continue;\r\n\r\n        const div = document.createElement('div')\r\n        div.innerHTML = thArray[x].textContent;\r\n        div.style.display = 'inline-block';\r\n        div.style.position = 'absolute';\r\n        div.style.visibility = 'hidden';\r\n        document.body.appendChild(div);\r\n\r\n        w = tdEl[x].offsetWidth;\r\n\r\n        if(div.offsetWidth > tdEl[x].offsetWidth){\r\n            w = div.offsetWidth + 70;\r\n        }\r\n        w += offset;\r\n        thArray[x].style.width = (w) + 'px';\r\n        tdEl[x].style.width = (w) + 'px';\r\n\r\n        headerWidth += w;\r\n        document.body.removeChild(div);\r\n    }\r\n\r\n    return headerWidth;\r\n}\r\n\r\nfunction hideShowTableCols(table){\r\n    var json = ChataUtils.responses[table.dataset.componentid];\r\n    var cols = json['data']['columns'];\r\n    const thList = table.headerElement.childNodes;\r\n    const trList = table.childNodes;\r\n    for (var i = 0; i < thList.length; i++) {\r\n        if(!cols[i]['is_visible']){\r\n            thList[i].classList.add('chata-hidden');\r\n        }else{\r\n            thList[i].classList.remove('chata-hidden');\r\n        }\r\n    }\r\n\r\n    for (var i = 0; i < trList.length; i++) {\r\n        var tdList = trList[i].childNodes;\r\n        for (var x = 0; x < tdList.length; x++) {\r\n            if(!cols[x]['is_visible']){\r\n                tdList[x].classList.add('chata-hidden');\r\n            }else{\r\n                tdList[x].classList.remove('chata-hidden');\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction getStringWidth(string){\r\n    const div = document.createElement('div')\r\n    div.innerHTML = string;\r\n    div.style.display = 'inline-block';\r\n    div.style.position = 'absolute';\r\n    div.style.visibility = 'hidden';\r\n    document.body.appendChild(div);\r\n    var width = div.offsetWidth;\r\n    document.body.removeChild(div);\r\n    return width;\r\n}\r\n\r\nfunction allColsHidden(json){\r\n    var cols = json['data']['columns'];\r\n    var isAllHidden = true;\r\n    for (var i = 0; i < cols.length; i++) {\r\n        if(cols[i].is_visible){\r\n            isAllHidden = false;\r\n            break;\r\n        }\r\n    }\r\n\r\n    return isAllHidden;\r\n}\r\n\r\nfunction allColHiddenMessage(table){\r\n    const requestId = table.dataset.componentid;\r\n    var csvHandlerOption = table.tabulator.parentContainer.querySelector(\r\n        '[data-name-option=\"csv-handler\"]'\r\n    );\r\n\r\n    var csvCopyOption = table.tabulator.parentContainer.querySelector(\r\n        '[data-name-option=\"copy-csv-handler\"]'\r\n    );\r\n\r\n    var filterOption = table.tabulator.parentContainer.querySelector(\r\n        '[data-name-option=\"filter-action\"]'\r\n    );\r\n    const json = ChataUtils.responses[requestId];\r\n    var isAllHidden = allColsHidden(json);\r\n    let message;\r\n    if(table.noColumnsElement){\r\n        message = table.noColumnsElement;\r\n    }else{\r\n        message = htmlToElement(\r\n        `<div class=\"autoql-vanilla-no-columns-error-message\">\r\n            <div>\r\n                <span class=\"chata-icon warning-icon\">\r\n                    ${WARNING}\r\n                </span>\r\n                <br> All columns in this table are currently hidden.\r\n                You can adjust your column visibility preferences using\r\n                the Column Visibility Manager\r\n                (<span class=\"chata-icon eye-icon\">${COLUMN_EDITOR}</span>)\r\n                in the Options Toolbar.\r\n            </div>\r\n        </div>`);\r\n        table.parentElement.appendChild(message);\r\n        table.noColumnsElement = message;\r\n    }\r\n\r\n    if(isAllHidden){\r\n        message.style.display = 'flex';\r\n        table.style.display = 'none';\r\n        csvHandlerOption.style.display = 'none';\r\n        csvCopyOption.style.display = 'none';\r\n        filterOption.style.display = 'none';\r\n\r\n    }else{\r\n        message.style.display = 'none';\r\n        table.style.display = 'block';\r\n        csvHandlerOption.style.display = 'block';\r\n        csvCopyOption.style.display = 'block';\r\n        filterOption.style.display = 'inline-block';\r\n        table.tabulator.redraw();\r\n    }\r\n}\r\n\r\nfunction mouseX(evt) {\r\n    if (evt.pageX) {\r\n        return evt.pageX;\r\n    } else if (evt.clientX) {\r\n        return evt.clientX + (document.documentElement.scrollLeft ?\r\n            document.documentElement.scrollLeft :\r\n            document.body.scrollLeft);\r\n    }else{\r\n        return null;\r\n    }\r\n}\r\n\r\nfunction mouseY(evt) {\r\n    if(evt.pageY){\r\n        return evt.pageY;\r\n    }else if (evt.clientY){\r\n        return evt.clientY + (document.documentElement.scrollTop ?\r\n            document.documentElement.scrollTop :\r\n            document.body.scrollTop);\r\n    }else{\r\n        return null;\r\n    }\r\n}\r\n\r\nconst getActiveIntegrator = (domain) => {\r\n    if (domain.includes('spira')) {\r\n        return 'spira'\r\n    } else if (domain.includes('locate')) {\r\n        return 'locate'\r\n    } else if (domain.includes('purefacts')) {\r\n        return 'purefacts'\r\n    } else if (domain.includes('bluelink')) {\r\n        return 'bluelink'\r\n    } else if (domain.includes('lefort')) {\r\n        return 'lefort'\r\n    } else if (domain.includes('nbccontest')) {\r\n        return 'nbcomp'\r\n    } else if (domain.includes('vitruvi')) {\r\n        return 'vitruvi'\r\n    } else if (domain.includes('accounting-demo')) {\r\n        return 'demo'\r\n    }\r\n\r\n    return '';\r\n}\r\n\r\nconst getIntroMessageTopics = (integrator) => {\r\n    const topics =\r\n    {\r\n        spira: [\r\n            {\r\n                topic: 'Revenue',\r\n                queries: [\r\n                    'Total revenue this year',\r\n                    'Total revenue by month for the last six months',\r\n                    'Total revenue by area last year',\r\n                    'Total revenue by customer for the last six months',\r\n                    'Average revenue by area last year',\r\n                    'Average revenue by ticket type for the last six months',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Estimates',\r\n                queries: [\r\n                    'Total estimates by area last year',\r\n                    'Total estimates by ticket type last year',\r\n                    'Number of estimates by customer this year',\r\n                    'Number of estimates by job type last year',\r\n                    'Average estimates by ticket type last year',\r\n                    'Average estimates by month last year',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Utilization',\r\n                queries: [\r\n                    'Total utilization on resources last month',\r\n                    'Total resource hours by area last month ',\r\n                    'Total hours utilized for personnel last month',\r\n                    'Total hours utilization by job last month',\r\n                    'Total hours utilization on equipment last year',\r\n                    'Average hours utilization by job type last month',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Jobs',\r\n                queries: [\r\n                    'All jobs scheduled to start this year',\r\n                    'All active jobs scheduled to end last year',\r\n                    'All jobs still open from last year',\r\n                    'All jobs in bid state',\r\n                    'Number of scheduled jobs by area',\r\n                    'Number of open jobs by customer',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Tickets',\r\n                queries: [\r\n                    'Total tickets by month last year',\r\n                    'Total tickets by customer this year',\r\n                    'Average ticket by area last year',\r\n                    'All void tickets over 10000',\r\n                    'Average ticket by ticket type last year',\r\n                    'Total tickets by type by month for the last six months',\r\n                ],\r\n            },\r\n        ],\r\n        locate: [\r\n            {\r\n                topic: 'Sales',\r\n                queries: [\r\n                    'Total sales by state last year',\r\n                    'Average sales by month last year',\r\n                    'Total sales by customer this year',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Purchase Orders',\r\n                queries: [\r\n                    'Last purchase order over 10000',\r\n                    'Total purchase orders by vendor this year',\r\n                    'All unissued purchase orders from last year',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Parts',\r\n                queries: [\r\n                    'Top 5 parts by sales order',\r\n                    'Show me all parts expiring this year',\r\n                    'All parts priced below last cost',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Margins',\r\n                queries: [\r\n                    'Gross margin by part this year',\r\n                    'Gross margin by customer last year',\r\n                    'Gross margin by invoice this year',\r\n                ],\r\n            },\r\n        ],\r\n        demo: [\r\n            {\r\n                topic: 'Sales',\r\n                queries: [\r\n                    'Total sales last month',\r\n                    'Top 5 customers by sales this year',\r\n                    'Total sales by revenue account last year',\r\n                    'Total sales by item from services last year',\r\n                    'Average sales per month last year',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Items',\r\n                queries: [\r\n                    'Top 5 items by sales',\r\n                    'Which items were sold the least last year',\r\n                    'Average items sold per month last year',\r\n                    'Total profit per item last month',\r\n                    'Total items sold for services last month',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Expenses',\r\n                queries: [\r\n                    'All expenses last month',\r\n                    'Monthly expenses by vendor last year',\r\n                    'Total expenses by account last quarter',\r\n                    'Total expenses by quarter last year',\r\n                    'Show me expenses last year over 10000',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Purchase Orders',\r\n                queries: [\r\n                    'All purchases over 10000 this year',\r\n                    'All open purchase orders',\r\n                    'Total purchase orders by vendor this year',\r\n                    'Total purchase orders by quarter last year',\r\n                    'Top 5 vendors by purchase orders',\r\n                ],\r\n            },\r\n        ],\r\n        lefort: [\r\n            {\r\n                topic: 'Ingresos',\r\n                queries: [\r\n                    'ingresos el año pasado',\r\n                    'ingresos totales por mes 2017',\r\n                    'promedio de las facturas de ingresos por mes 2017',\r\n                    'cuántos facturas de ingresos hay por mes 2017',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Egresos',\r\n                queries: [\r\n                    'egresos para MXN',\r\n                    'egresos totales para MXN',\r\n                    'promedio de las facturas de egresos por mes 2017',\r\n                    'cuántos facturas de egresos hay por mes 2017',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Pagos',\r\n                queries: [\r\n                    'pagos el año pasado',\r\n                    'promedio de pagos por año',\r\n                    'pagos totales 2017',\r\n                    'pagos totales por autorizado por tipo',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Nómina',\r\n                queries: [\r\n                    'nóminas',\r\n                    'nómina total por año',\r\n                    'promedio de nómina por año',\r\n                    'cuántas nóminas hay por mes',\r\n                ],\r\n            },\r\n        ],\r\n        vitruvi: [\r\n            {\r\n                topic: 'Tickets',\r\n                queries: [\r\n                    'All open tickets due this year',\r\n                    'All tickets created last year',\r\n                    'Number of tickets by status',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Work Package',\r\n                queries: [\r\n                    'All work packages created this year',\r\n                    'how many work packages for each manager this year',\r\n                    'how many work packages by type last year',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Work Order',\r\n                queries: [\r\n                    'List all work orders created this year',\r\n                    'Number of working orders in progress by region this year',\r\n                    'Number of work orders by program this year',\r\n                ],\r\n            },\r\n        ],\r\n        bluelink: [\r\n            {\r\n                topic: 'Sales orders',\r\n                queries: [\r\n                    'All open sales orders from last year',\r\n                    'Total sales orders by customer last year',\r\n                    'Total sales orders by month last year',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Products',\r\n                queries: [\r\n                    'All products sold at a loss last year',\r\n                    'Top 5 average sales orders by product last year',\r\n                    'Total sales by product by month last year',\r\n                ],\r\n            },\r\n            {\r\n                topic: 'Gross margin',\r\n                queries: [\r\n                    'Total gross margin by country last year',\r\n                    'Total gross margin by customer last year',\r\n                    'Total gross margin by product last year',\r\n                ],\r\n            },\r\n        ]\r\n    }\r\n\r\n    return topics[integrator]\r\n}\r\n\r\nfunction closeAllChartPopovers(){\r\n    var list = document.querySelectorAll(\r\n        '.autoql-vanilla-popover-selector'\r\n    )\r\n    for (var i = 0; i < list.length; i++) {\r\n        if(list[i].isOpen)list[i].close();\r\n    }\r\n}\r\n\r\nfunction closeAllSafetynetSelectors(){\r\n    var list = document.querySelectorAll(\r\n        '.autoql-vanilla-safetynet-selector'\r\n    )\r\n    for (var i = 0; i < list.length; i++) {\r\n        if(list[i].isOpen)list[i].hide();\r\n    }\r\n}\r\n\r\nfunction closeAllToolbars(){\r\n    var list = document.querySelectorAll(\r\n        '.autoql-vanilla-chat-message-toolbar.show'\r\n    )\r\n\r\n    var submenus = document.querySelectorAll(\r\n        '.chata-popover-wrapper.show'\r\n    )\r\n\r\n    for (var i = 0; i < list.length; i++) {\r\n        list[i].classList.remove('show');\r\n    }\r\n\r\n    for (var i = 0; i < submenus.length; i++) {\r\n        submenus[i].classList.remove('show');\r\n    }\r\n}\r\n\r\nfunction getSuggestionLists (query, fullSuggestions) {\r\n    const suggestionLists = []\r\n    if (fullSuggestions.length) {\r\n        fullSuggestions.forEach((suggestionInfo, index) => {\r\n            const originalWord = query.slice(\r\n                suggestionInfo.start,\r\n                suggestionInfo.end\r\n            )\r\n\r\n            // Add ID to each original suggestion\r\n            const originalSuggestionList = suggestionInfo.suggestions.map(\r\n                suggestion => {\r\n                    return {\r\n                        index: i,\r\n                        ...suggestion,\r\n                    }\r\n                }\r\n            )\r\n\r\n            // Add original query value to suggestion list\r\n            const list = [\r\n                ...originalSuggestionList,\r\n                { text: originalWord, value_label: 'Original term' },\r\n            ]\r\n\r\n            suggestionLists.push(list)\r\n        })\r\n    }\r\n    return suggestionLists\r\n}\r\n\r\nfunction getPlainTextList(query, fullSuggestions) {\r\n    const textList = []\r\n    let lastEndIndex = 0\r\n\r\n    fullSuggestions.forEach((fullSuggestion, index) => {\r\n        textList.push(query.slice(lastEndIndex, fullSuggestion.start))\r\n        if (index === fullSuggestions.length - 1) {\r\n            textList.push(query.slice(fullSuggestion.end, query.length))\r\n        }\r\n        lastEndIndex = fullSuggestion.end\r\n    })\r\n\r\n    return textList\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmNfbm9kZS9VdGlscy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyY19ub2RlL1V0aWxzLmpzPzk4YWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdENoYXJ0RGF0YSh2YWwsIGNvbCwgb3B0aW9ucyl7XHJcbiAgICB2YXIgY2xvbmUgPSBjbG9uZU9iamVjdChvcHRpb25zKTtcclxuICAgIGNsb25lLmRhdGFGb3JtYXR0aW5nLmN1cnJlbmN5RGVjaW1hbHMgPSAwO1xyXG4gICAgcmV0dXJuIGZvcm1hdERhdGEodmFsLCBjb2wsIGNsb25lKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGEodmFsLCBjb2wsIGFsbE9wdGlvbnM9e30pe1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IGFsbE9wdGlvbnMuZGF0YUZvcm1hdHRpbmc7XHJcbiAgICB2YWx1ZSA9ICcnO1xyXG4gICAgbGV0IHR5cGUgPSBjb2xbJ3R5cGUnXTtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ0RPTExBUl9BTVQnOlxyXG4gICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KHZhbCk7XHJcbiAgICAgICAgICAgIGlmKGlzTmFOKHZhbCkpdmFsID0gMDtcclxuICAgICAgICAgICAgY29uc3Qgc2lnRGlncyA9IFN0cmluZyhwYXJzZUludCh2YWwudG9GaXhlZCgyKSkpLmxlbmd0aFxyXG4gICAgICAgICAgICB2YWx1ZSA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChvcHRpb25zLmxhbmd1YWdlQ29kZSwge1xyXG4gICAgICAgICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogb3B0aW9ucy5jdXJyZW5jeUNvZGUsXHJcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW5jeTogb3B0aW9ucy5jdXJyZW5jeUNvZGUsXHJcbiAgICAgICAgICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IG9wdGlvbnMuY3VycmVuY3lEZWNpbWFsc1xyXG4gICAgICAgICAgICB9KS5mb3JtYXQodmFsKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdEQVRFJzpcclxuICAgICAgICAgICAgdmFyIGNvbE5hbWUgPSBjb2wubmFtZTtcclxuICAgICAgICAgICAgaWYoY29sTmFtZS5pbmNsdWRlcygneWVhcicpKXtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHBhcnNlSW50KHZhbCkqMTAwMCkuZm9ybWF0KCdZWVlZJyk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGNvbE5hbWUuaW5jbHVkZXMoJ21vbnRoJykpe1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQocGFyc2VJbnQodmFsKSoxMDAwKS5mb3JtYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5tb250aFllYXJGb3JtYXRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQocGFyc2VJbnQodmFsKSoxMDAwKS5mb3JtYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXlNb250aFllYXJGb3JtYXRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdQRVJDRU5UJzpcclxuICAgICAgICAgICAgaWYoYWxsT3B0aW9ucy5kYXRhRm9ybWF0dGluZy5jb21wYXJpc29uRGlzcGxheSA9PSAnUEVSQ0VOVCcpe1xyXG4gICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpICogMTAwO1xyXG4gICAgICAgICAgICAgICAgaWYoIWlzTmFOKHZhbCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gIHZhbC50b0ZpeGVkKDIpICsgJyUnO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsKS50b0ZpeGVkKDQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnUVVBTlRJVFknOlxyXG4gICAgICAgICAgICB2YXIgbiA9IE1hdGguYWJzKHBhcnNlRmxvYXQodmFsKSk7IC8vIENoYW5nZSB0byBwb3NpdGl2ZVxyXG4gICAgICAgICAgICB2YXIgZGVjaW1hbCA9IG4gLSBNYXRoLmZsb29yKG4pO1xyXG4gICAgICAgICAgICBpZihkZWNpbWFsID4gMCl7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsKS50b0ZpeGVkKG9wdGlvbnMucXVhbnRpdHlEZWNpbWFscyk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ1JBVElPJzpcclxuICAgICAgICAgICAgaWYoYWxsT3B0aW9ucy5kYXRhRm9ybWF0dGluZy5jb21wYXJpc29uRGlzcGxheSA9PSAnUEVSQ0VOVCcpe1xyXG4gICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpICogMTAwO1xyXG4gICAgICAgICAgICAgICAgaWYoIWlzTmFOKHZhbCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gIHZhbC50b0ZpeGVkKDIpICsgJyUnO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsKS50b0ZpeGVkKDQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnTlVNQkVSJzpcclxuICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpICogMTAwO1xyXG4gICAgICAgICAgICBpZighaXNOYU4odmFsKSl7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICB2YWwudG9GaXhlZCgyKSArICclJztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnREFURV9TVFJJTkcnOlxyXG4gICAgICAgICAgICB2YXIgbW9tZW50T2JqID0gbW9tZW50KHZhbCwgJ1lZWVktTU0nKTtcclxuICAgICAgICAgICAgdmFsdWUgPSBtb21lbnRPYmouZm9ybWF0KG9wdGlvbnMubW9udGhZZWFyRm9ybWF0KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpe1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnJztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYodmFsdWUgPT09IHVuZGVmaW5lZClyZXR1cm4gJyc7XHJcbiAgICBlbHNlIHJldHVybiB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdENvbHVtbk5hbWUoY29sKXtcclxuICAgIHJldHVybiBjb2wucmVwbGFjZSgvX18vZywgJyAnKS5yZXBsYWNlKC9fL2csICcgJykuXHJcbiAgICByZXBsYWNlKC8oPzpefFxccylcXFMvZywgZnVuY3Rpb24oYSkgeyByZXR1cm4gYS50b1VwcGVyQ2FzZSgpOyB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0KCkge1xyXG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xyXG4gICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCwgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xyXG4gICAgdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgdmFyIG1vbnRoSW5kZXggPSBkYXRlLmdldE1vbnRoKCk7XHJcbiAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIC8vIE5PVEU6IHRoaXMgY2FzZSBvbmx5IG9jY3VycyBpbiB0ZXN0c1xyXG4gICAgaWYoTnVtYmVyLmlzTmFOKG1vbnRoSW5kZXgpKXtcclxuICAgICAgICB5ZWFyID0gJzE5NjknO1xyXG4gICAgICAgIGRheSA9ICczMSc7XHJcbiAgICAgICAgbW9udGhJbmRleCA9IDExO1xyXG4gICAgfVxyXG4gICAgLy8gcmV0dXJuIE1PTlRIX05BTUVTW21vbnRoSW5kZXhdICsgJyAnICsgZGF5ICsgJywgJyArIHllYXI7XHJcbiAgICByZXR1cm4gTU9OVEhfTkFNRVNbbW9udGhJbmRleF0gKyAnICcgKyB5ZWFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29weVRleHRUb0NsaXBib2FyZCh0ZXh0KSB7XHJcbiAgICB2YXIgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XHJcbiAgICB0ZXh0QXJlYS52YWx1ZSA9IHRleHQ7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcclxuICAgIHRleHRBcmVhLnNlbGVjdCgpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHN1Y2Nlc3NmdWwgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xyXG4gICAgICAgIHZhciBtc2cgPSBzdWNjZXNzZnVsID8gJ3N1Y2Nlc3NmdWwnIDogJ3Vuc3VjY2Vzc2Z1bCc7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRBcmVhKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHB1dExvYWRpbmdDb250YWluZXIodGFyZ2V0KXtcclxuICAgIHZhciByZXNwb25zZUxvYWRpbmdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciByZXNwb25zZUxvYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICByZXNwb25zZUxvYWRpbmdDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2hhdC1iYXItbG9hZGluZycpO1xyXG4gICAgcmVzcG9uc2VMb2FkaW5nLmNsYXNzTGlzdC5hZGQoJ3Jlc3BvbnNlLWxvYWRpbmcnKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IDM7IGkrKykge1xyXG4gICAgICAgIHJlc3BvbnNlTG9hZGluZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzcG9uc2VMb2FkaW5nQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlc3BvbnNlTG9hZGluZyk7XHJcbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQocmVzcG9uc2VMb2FkaW5nQ29udGFpbmVyKTtcclxuICAgIHJldHVybiByZXNwb25zZUxvYWRpbmdDb250YWluZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTYWZldHluZXRWYWx1ZXMobm9kZSl7XHJcbiAgICB2YXIgbm9kZXMgPSBub2RlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NhZmV0eW5ldC12YWx1ZScpO1xyXG4gICAgdmFyIHdvcmRzID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgd29yZHMucHVzaChub2Rlc1tpXS50ZXh0Q29udGVudC50cmltKCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHdvcmRzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcnVuUXVlcnkoZXZlbnQsIG9iakNvbnRleHQpe1xyXG5cclxuICAgIGlmKGV2ZW50LnRhcmdldC50YWdOYW1lID09ICdzdmcnKXtcclxuICAgICAgICB2YXIgbm9kZSA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICB9ZWxzZSBpZihldmVudC50YXJnZXQudGFnTmFtZSA9PSAncGF0aCcpe1xyXG4gICAgICAgIHZhciBub2RlID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgdmFyIG5vZGUgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcclxuICAgIH1cclxuICAgIGlmKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhdXRvcWwtdmFuaWxsYS1jaGF0YS1zYWZldHktbmV0LWV4ZWN1dGUtYnRuJykpe1xyXG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICB2YXIgd29yZHMgPSBnZXRTYWZldHluZXRWYWx1ZXMobm9kZSk7XHJcblxyXG4gICAgc3dpdGNoIChvYmpDb250ZXh0LmNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgY2FzZSBEYXRhTWVzc2VuZ2VyOlxyXG4gICAgICAgICAgICBvYmpDb250ZXh0LmtleWJvYXJkQW5pbWF0aW9uKHdvcmRzLmpvaW4oJyAnKSk7XHJcbiAgICAgICAgICAgIC8vIG9iakNvbnRleHQuc2VuZE1lc3NhZ2UoXHJcbiAgICAgICAgICAgIC8vICAgICB3b3Jkcy5qb2luKCcgJyksXHJcbiAgICAgICAgICAgIC8vICAgICAnZGF0YV9tZXNzZW5nZXIudmFsaWRhdGlvbidcclxuICAgICAgICAgICAgLy8gKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgb2JqQ29udGV4dC5zZW5kTWVzc2FnZVRvUmVzcG9uc2VSZW5kZXJlcihcclxuICAgICAgICAgICAgICAgIHdvcmRzLmpvaW4oJyAnKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVN1Z2dlc3Rpb24oZXZlbnQpe1xyXG4gICAgaWYoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT0gJ3N2Zycpe1xyXG4gICAgICAgIHZhciBub2RlID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICB2YXIgbm9kZSA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBub2RlLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQobm9kZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjc3ZUbzJkQXJyYXkocGFyc2VNZSkge1xyXG4gICAgY29uc3Qgc3BsaXRGaW5kZXIgPSAvLHxcXHI/XFxufFwiKFxcXFxcInxbXlwiXSkqP1wiL2c7XHJcbiAgICBsZXQgY3VycmVudFJvdyA9IFtdO1xyXG4gICAgY29uc3Qgcm93c091dCA9IFtjdXJyZW50Um93XTtcclxuICAgIGxldCBsYXN0SW5kZXggPSBzcGxpdEZpbmRlci5sYXN0SW5kZXggPSAwO1xyXG5cclxuICAgIGNvbnN0IHB1c2hDZWxsID0gKGVuZEluZGV4KSA9PiB7XHJcbiAgICAgICAgZW5kSW5kZXggPSBlbmRJbmRleCB8fCBwYXJzZU1lLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBhZGRNZSA9IHBhcnNlTWUuc3Vic3RyaW5nKGxhc3RJbmRleCwgZW5kSW5kZXgpO1xyXG4gICAgICAgIGN1cnJlbnRSb3cucHVzaChhZGRNZS5yZXBsYWNlKC9eXCJ8XCIkL2csIFwiXCIpKTtcclxuICAgICAgICBsYXN0SW5kZXggPSBzcGxpdEZpbmRlci5sYXN0SW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJlZ2V4UmVzcDtcclxuICAgIHdoaWxlIChyZWdleFJlc3AgPSBzcGxpdEZpbmRlci5leGVjKHBhcnNlTWUpKSB7XHJcbiAgICAgICAgY29uc3Qgc3BsaXQgPSByZWdleFJlc3BbMF07XHJcblxyXG4gICAgICAgIGlmIChzcGxpdC5zdGFydHNXaXRoKGBcImApID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzcGxpdFN0YXJ0SW5kZXggPSBzcGxpdEZpbmRlci5sYXN0SW5kZXggLSBzcGxpdC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHB1c2hDZWxsKHNwbGl0U3RhcnRJbmRleCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpc05ld0xpbmUgPSAvXlxccj9cXG4kLy50ZXN0KHNwbGl0KTtcclxuICAgICAgICAgICAgaWYgKGlzTmV3TGluZSkgeyByb3dzT3V0LnB1c2goY3VycmVudFJvdyA9IFtdKTsgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1c2hDZWxsKCk7XHJcbiAgICByZXR1cm4gcm93c091dDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyb3VwYWJsZUZpZWxkKGpzb24pe1xyXG4gICAgdmFyIHIgPSB7XHJcbiAgICAgICAgaW5kZXhDb2w6IC0xLFxyXG4gICAgICAgIGpzb25Db2w6IHt9LFxyXG4gICAgICAgIG5hbWU6ICcnXHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpzb25bJ2RhdGEnXVsnY29sdW1ucyddLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYoanNvblsnZGF0YSddWydjb2x1bW5zJ11baV1bJ2dyb3VwYWJsZSddKXtcclxuICAgICAgICAgICAgclsnaW5kZXhDb2wnXSA9IGk7XHJcbiAgICAgICAgICAgIHJbJ2pzb25Db2wnXSA9IGpzb25bJ2RhdGEnXVsnY29sdW1ucyddW2ldO1xyXG4gICAgICAgICAgICByWyduYW1lJ10gPSBqc29uWydkYXRhJ11bJ2NvbHVtbnMnXVtpXVsnbmFtZSddO1xyXG4gICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTE7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXROb3RHcm91cGFibGVGaWVsZChqc29uKXtcclxuICAgIHZhciByID0ge1xyXG4gICAgICAgIGluZGV4Q29sOiAtMSxcclxuICAgICAgICBqc29uQ29sOiB7fSxcclxuICAgICAgICBuYW1lOiAnJ1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uWydkYXRhJ11bJ2NvbHVtbnMnXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmKCFqc29uWydkYXRhJ11bJ2NvbHVtbnMnXVtpXVsnZ3JvdXBhYmxlJ10pe1xyXG4gICAgICAgICAgICByWydpbmRleENvbCddID0gaTtcclxuICAgICAgICAgICAgclsnanNvbkNvbCddID0ganNvblsnZGF0YSddWydjb2x1bW5zJ11baV07XHJcbiAgICAgICAgICAgIHJbJ25hbWUnXSA9IGpzb25bJ2RhdGEnXVsnY29sdW1ucyddW2ldWyduYW1lJ107XHJcbiAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAtMTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyb3VwYWJsZXMoanNvbil7XHJcbiAgICB2YXIgY2xvbmUgPSBjbG9uZU9iamVjdChqc29uKTtcclxuICAgIHZhciBjb250ID0gMDtcclxuICAgIHZhciBncm91cHMgPSBbXVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbG9uZVsnZGF0YSddWydjb2x1bW5zJ10ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZihjbG9uZVsnZGF0YSddWydjb2x1bW5zJ11baV1bJ2dyb3VwYWJsZSddKXtcclxuICAgICAgICAgICAgY2xvbmVbJ2RhdGEnXVsnY29sdW1ucyddW2ldLmluZGV4ID0gaTtcclxuICAgICAgICAgICAgZ3JvdXBzLnB1c2goY2xvbmVbJ2RhdGEnXVsnY29sdW1ucyddW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ3JvdXBzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xpY2tlZERhdGEoanNvbiwgLi4ucGFyYW1zKXtcclxuICAgIHZhciBncm91cGFibGVzID0gZ2V0R3JvdXBhYmxlcyhqc29uKTtcclxuICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgIHN1cHBvcnRlZEJ5QVBJOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IFtdXHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cGFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGluZGV4RGF0YSA9IGdyb3VwYWJsZXNbaV0uaW5kZXg7XHJcbiAgICAgICAgZGF0YS5kYXRhLnB1c2goe1xyXG4gICAgICAgICAgICBuYW1lOiBncm91cGFibGVzW2ldLm5hbWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBwYXJhbXNbaW5kZXhEYXRhXVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHcm91cGFibGVDb3VudChqc29uKXtcclxuICAgIHZhciBjb250ID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvblsnZGF0YSddWydjb2x1bW5zJ10ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZihqc29uWydkYXRhJ11bJ2NvbHVtbnMnXVtpXVsnZ3JvdXBhYmxlJ10pe1xyXG4gICAgICAgICAgICBjb250Kys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXZvdENvbHVtbkFycmF5KGpzb24sIG9wdGlvbnMsIF9kYXRhKXtcclxuICAgIHZhciBsaW5lcyA9IF9kYXRhO1xyXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xyXG4gICAgdmFyIGZpcnN0Q29sTmFtZSA9ICcnO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBkYXRhID0gbGluZXNbaV07XHJcbiAgICAgICAgdmFyIHJvdyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZGF0YS5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICBpZihmaXJzdENvbE5hbWUgPT0gJycgJiYganNvblsnZGF0YSddWydjb2x1bW5zJ11beF1bJ2dyb3VwYWJsZSddKXtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0ganNvblsnZGF0YSddWydjb2x1bW5zJ11beF1bJ2Rpc3BsYXlfbmFtZSddIHx8XHJcbiAgICAgICAgICAgICAgICBqc29uWydkYXRhJ11bJ2NvbHVtbnMnXVt4XVsnbmFtZSddO1xyXG4gICAgICAgICAgICAgICAgZmlyc3RDb2xOYW1lID0gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcm93LnB1c2goZm9ybWF0RGF0YShcclxuICAgICAgICAgICAgLy8gICAgIGRhdGFbeF0sXHJcbiAgICAgICAgICAgIC8vICAgICBqc29uWydkYXRhJ11bJ2NvbHVtbnMnXVt4XSxcclxuICAgICAgICAgICAgLy8gICAgIG9wdGlvbnNcclxuICAgICAgICAgICAgLy8gKSk7XHJcbiAgICAgICAgICAgIHJvdy5wdXNoKGRhdGFbeF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YWx1ZXMucHVzaChyb3cpO1xyXG4gICAgfVxyXG4gICAgdmFyIHBpdm90QXJyYXkgPSBnZXRQaXZvdEFycmF5KHZhbHVlcywgMCwgMSwgMiwgZmlyc3RDb2xOYW1lKTtcclxuICAgIHJldHVybiBwaXZvdEFycmF5O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc29ydFBpdm90KHBpdm90QXJyYXksIGNvbEluZGV4LCBvcGVyYXRvcil7XHJcbiAgICBwaXZvdEFycmF5LnNoaWZ0KCk7XHJcbiAgICBwaXZvdEFycmF5LnNoaWZ0KCk7XHJcblxyXG5cclxuICAgIGlmKG9wZXJhdG9yID09ICdhc2MnKXtcclxuICAgICAgICB2YXIgY29tcGFyYXRvciA9IGZ1bmN0aW9uKGEsIGIpIHtcclxuXHJcbiAgICAgICAgICAgIGlmKGFbY29sSW5kZXhdLmNoYXJBdCgwKSA9PT0gJyQnIHx8IGFbJ2NvbEluZGV4J10gPT09ICcwJyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChcclxuICAgICAgICAgICAgICAgICAgICBhW2NvbEluZGV4XS50b1N0cmluZygpLnNsaWNlKDEpXHJcbiAgICAgICAgICAgICAgICApID4gcGFyc2VGbG9hdChiW2NvbEluZGV4XS50b1N0cmluZygpLnNsaWNlKDEpKSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGFbY29sSW5kZXhdKSA+IChiW2NvbEluZGV4XSkgPyAxIDogLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICB2YXIgY29tcGFyYXRvciA9IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgaWYoYVtjb2xJbmRleF0uY2hhckF0KDApID09PSAnJCcgfHwgYVsnY29sSW5kZXgnXSA9PT0gJzAnKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KFxyXG4gICAgICAgICAgICAgICAgICAgIGFbY29sSW5kZXhdLnRvU3RyaW5nKCkuc2xpY2UoMSlcclxuICAgICAgICAgICAgICAgICkgPCBwYXJzZUZsb2F0KGJbY29sSW5kZXhdLnRvU3RyaW5nKCkuc2xpY2UoMSkpID8gMSA6IC0xO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoYVtjb2xJbmRleF0pIDwgKGJbY29sSW5kZXhdKSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjbG9uZU9iamVjdChwaXZvdEFycmF5LnNvcnQoY29tcGFyYXRvcikpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0ZVBpdm90QXJyYXkoanNvbiwgb3B0aW9ucywgX2RhdGEpe1xyXG4gICAgdmFyIGxpbmVzID0gX2RhdGE7XHJcbiAgICB2YXIgdmFsdWVzID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBsaW5lc1tpXTtcclxuICAgICAgICB2YXIgcm93ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBkYXRhLmxlbmd0aDsgeCsrKSB7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKGpzb25bJ2RhdGEnXVsnY29sdW1ucyddW3hdWyd0eXBlJ10pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0RBVEUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRhdGFbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSggcGFyc2VJbnQodmFsdWUpICogMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93LnVuc2hpZnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1PTlRIX05BTUVTW2RhdGUuZ2V0TW9udGgoKV0sIGRhdGUuZ2V0RnVsbFllYXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJvdy5wdXNoKGZvcm1hdERhdGEoXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRhdGFbeF0sIGpzb25bJ2RhdGEnXVsnY29sdW1ucyddW3hdLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goZGF0YVt4XSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YWx1ZXMucHVzaChyb3cpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBwaXZvdEFycmF5ID0gZ2V0UGl2b3RBcnJheSh2YWx1ZXMsIDAsIDEsIDIsICdNb250aCcpO1xyXG4gICAgcmV0dXJuIHBpdm90QXJyYXk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXZvdEFycmF5KGRhdGFBcnJheSwgcm93SW5kZXgsIGNvbEluZGV4LCBkYXRhSW5kZXgsIGZpcnN0Q29sTmFtZSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9LCByZXQgPSBbXTtcclxuICAgIHZhciBuZXdDb2xzID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFBcnJheS5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICBpZiAoIXJlc3VsdFtkYXRhQXJyYXlbaV1bcm93SW5kZXhdXSkge1xyXG4gICAgICAgICAgICByZXN1bHRbZGF0YUFycmF5W2ldW3Jvd0luZGV4XV0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdWx0W2RhdGFBcnJheVtpXVtyb3dJbmRleF1dW2RhdGFBcnJheVtpXVtjb2xJbmRleF1dID0gZGF0YUFycmF5W2ldW2RhdGFJbmRleF07XHJcblxyXG4gICAgICAgIGlmIChuZXdDb2xzLmluZGV4T2YoZGF0YUFycmF5W2ldW2NvbEluZGV4XSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgbmV3Q29scy5wdXNoKGRhdGFBcnJheVtpXVtjb2xJbmRleF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBuZXdDb2xzLnNvcnQoKTtcclxuICAgIHZhciBpdGVtID0gW107XHJcblxyXG4gICAgaXRlbS5wdXNoKGZpcnN0Q29sTmFtZSk7XHJcbiAgICBpdGVtLnB1c2guYXBwbHkoaXRlbSwgbmV3Q29scyk7XHJcbiAgICByZXQucHVzaChpdGVtKTtcclxuXHJcbiAgICBmb3IgKHZhciBrZXkgaW4gcmVzdWx0KSB7XHJcbiAgICAgICAgaXRlbSA9IFtdO1xyXG4gICAgICAgIGl0ZW0ucHVzaChrZXkpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3Q29scy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpdGVtLnB1c2gocmVzdWx0W2tleV1bbmV3Q29sc1tpXV0gfHwgXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldC5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNWR1N0cmluZyhzdmdOb2RlKSB7XHJcbiAgICBzdmdOb2RlLnNldEF0dHJpYnV0ZSgneGxpbmsnLCAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycpO1xyXG4gICAgdmFyIGNzc1N0eWxlVGV4dCA9IGdldENTU1N0eWxlcyggc3ZnTm9kZSApO1xyXG4gICAgYXBwZW5kQ1NTKCBjc3NTdHlsZVRleHQsIHN2Z05vZGUgKTtcclxuXHJcbiAgICB2YXIgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XHJcbiAgICB2YXIgc3ZnU3RyaW5nID0gc2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhzdmdOb2RlKTtcclxuICAgIHN2Z1N0cmluZyA9IHN2Z1N0cmluZy5yZXBsYWNlKC8oXFx3Kyk/Oj94bGluaz0vZywgJ3htbG5zOnhsaW5rPScpOyAvLyBGaXggcm9vdCB4bGluayB3aXRob3V0IG5hbWVzcGFjZVxyXG4gICAgc3ZnU3RyaW5nID0gc3ZnU3RyaW5nLnJlcGxhY2UoL05TXFxkKzpocmVmL2csICd4bGluazpocmVmJyk7IC8vIFNhZmFyaSBOUyBuYW1lc3BhY2UgZml4XHJcblxyXG4gICAgcmV0dXJuIHN2Z1N0cmluZztcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDU1NTdHlsZXMoIHBhcmVudEVsZW1lbnQgKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdG9yVGV4dEFyciA9IFtdO1xyXG5cclxuICAgICAgICAvLyBBZGQgUGFyZW50IGVsZW1lbnQgSWQgYW5kIENsYXNzZXMgdG8gdGhlIGxpc3RcclxuICAgICAgICBzZWxlY3RvclRleHRBcnIucHVzaCggJyMnK3BhcmVudEVsZW1lbnQuaWQgKTtcclxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHBhcmVudEVsZW1lbnQuY2xhc3NMaXN0Lmxlbmd0aDsgYysrKVxyXG4gICAgICAgIGlmICggIWNvbnRhaW5zKCcuJytwYXJlbnRFbGVtZW50LmNsYXNzTGlzdFtjXSwgc2VsZWN0b3JUZXh0QXJyKSApXHJcbiAgICAgICAgc2VsZWN0b3JUZXh0QXJyLnB1c2goICcuJytwYXJlbnRFbGVtZW50LmNsYXNzTGlzdFtjXSApO1xyXG5cclxuICAgICAgICAvLyBBZGQgQ2hpbGRyZW4gZWxlbWVudCBJZHMgYW5kIENsYXNzZXMgdG8gdGhlIGxpc3RcclxuICAgICAgICB2YXIgbm9kZXMgPSBwYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IG5vZGVzW2ldLmlkO1xyXG4gICAgICAgICAgICBpZiAoICFjb250YWlucygnIycraWQsIHNlbGVjdG9yVGV4dEFycikgKVxyXG4gICAgICAgICAgICBzZWxlY3RvclRleHRBcnIucHVzaCggJyMnK2lkICk7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IG5vZGVzW2ldLmNsYXNzTGlzdDtcclxuICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjbGFzc2VzLmxlbmd0aDsgYysrKVxyXG4gICAgICAgICAgICBpZiAoICFjb250YWlucygnLicrY2xhc3Nlc1tjXSwgc2VsZWN0b3JUZXh0QXJyKSApXHJcbiAgICAgICAgICAgIHNlbGVjdG9yVGV4dEFyci5wdXNoKCAnLicrY2xhc3Nlc1tjXSApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBDU1MgUnVsZXNcclxuICAgICAgICB2YXIgZXh0cmFjdGVkQ1NTVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcyA9IGRvY3VtZW50LnN0eWxlU2hlZXRzW2ldO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmKCFzLmNzc1J1bGVzKSBjb250aW51ZTtcclxuICAgICAgICAgICAgfSBjYXRjaCggZSApIHtcclxuICAgICAgICAgICAgICAgIGlmKGUubmFtZSAhPT0gJ1NlY3VyaXR5RXJyb3InKSB0aHJvdyBlOyAvLyBmb3IgRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjc3NSdWxlcyA9IHMuY3NzUnVsZXM7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgY3NzUnVsZXMubGVuZ3RoOyByKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICggY29udGFpbnMoIGNzc1J1bGVzW3JdLnNlbGVjdG9yVGV4dCwgc2VsZWN0b3JUZXh0QXJyICkgKVxyXG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkQ1NTVGV4dCArPSBjc3NSdWxlc1tyXS5jc3NUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RlZENTU1RleHQ7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRhaW5zKHN0cixhcnIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFyci5pbmRleE9mKCBzdHIgKSA9PT0gLTEgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBlbmRDU1MoIGNzc1RleHQsIGVsZW1lbnQgKSB7XHJcbiAgICAgICAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuICAgICAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIik7XHJcbiAgICAgICAgc3R5bGVFbGVtZW50LmlubmVySFRNTCA9IGNzc1RleHQ7XHJcbiAgICAgICAgdmFyIHJlZk5vZGUgPSBlbGVtZW50Lmhhc0NoaWxkTm9kZXMoKSA/IGVsZW1lbnQuY2hpbGRyZW5bMF0gOiBudWxsO1xyXG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKCBzdHlsZUVsZW1lbnQsIHJlZk5vZGUgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN2Z1N0cmluZzJJbWFnZShzdmdTdHJpbmcsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIHZhciBpbWdzcmMgPSAnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwnKyBidG9hKFxyXG4gICAgICAgIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdmdTdHJpbmcpKVxyXG4gICAgKTtcclxuXHJcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCAoIDAsIDAsIHdpZHRoLCBoZWlnaHQgKTtcclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmc7YmFzZTY0XCIpKTtcclxuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAnQ2hhcnQucG5nJyk7XHJcbiAgICAgICAgbGluay5jbGljaygpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgaW1hZ2Uuc3JjID0gaW1nc3JjO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VPcHRpb25zKG9iakxpc3Qpe1xyXG4gICAgdmFyIG91dHB1dCA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IG9iaiA9IG9iakxpc3RbaV07XHJcbiAgICAgICAgZm9yICh2YXIgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9iaikpIHtcclxuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0cHV0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3BlZWNoKGJ1dHRvbil7XHJcbiAgICB3aW5kb3cuU3BlZWNoUmVjb2duaXRpb24gPVxyXG4gICAgd2luZG93LndlYmtpdFNwZWVjaFJlY29nbml0aW9uIHx8IHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbjtcclxuICAgIGlmKHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbil7XHJcbiAgICAgICAgbGV0IHJlY29nbml0aW9uID0gbmV3IHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbigpO1xyXG4gICAgICAgIHJlY29nbml0aW9uLmludGVyaW1SZXN1bHRzID0gdHJ1ZTtcclxuICAgICAgICByZWNvZ25pdGlvbi5tYXhBbHRlcm5hdGl2ZXMgPSAxMDtcclxuICAgICAgICByZWNvZ25pdGlvbi5jb250aW51b3VzID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gcmVjb2duaXRpb247XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdExhYmVscyhsYWJlbHMsIGNvbCwgb3B0aW9ucyl7XHJcbiAgICBsYWJlbHMgPSBsYWJlbHMuc29ydCgpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsYWJlbHNbaV0gPSBmb3JtYXREYXRhKGxhYmVsc1tpXSwgY29sLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsYWJlbHM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRhVG9IZWF0bWFwKGpzb24sIG9wdGlvbnMpe1xyXG4gICAgdmFyIGxpbmVzID0ganNvblsnZGF0YSddWydyb3dzJ107XHJcbiAgICB2YXIgdmFsdWVzID0gW107XHJcbiAgICB2YXIgZ3JvdXBhYmxlcyA9IGdldEdyb3VwYWJsZUZpZWxkcyhqc29uKTtcclxuICAgIHZhciBub3RHcm91cGFibGVGaWVsZCA9IGdldE5vdEdyb3VwYWJsZUZpZWxkKGpzb24pO1xyXG4gICAgdmFyIGdyb3VwYWJsZUluZGV4MSA9IGdyb3VwYWJsZXNbMF0uaW5kZXhDb2w7XHJcbiAgICB2YXIgZ3JvdXBhYmxlSW5kZXgyID0gZ3JvdXBhYmxlc1sxXS5pbmRleENvbDtcclxuICAgIHZhciBub3RHcm91cGFibGVJbmRleCA9IG5vdEdyb3VwYWJsZUZpZWxkLmluZGV4Q29sO1xyXG5cclxuICAgIHZhciBjb2wxID0ganNvblsnZGF0YSddWydjb2x1bW5zJ11bZ3JvdXBhYmxlSW5kZXgxXTtcclxuICAgIHZhciBjb2wyID0ganNvblsnZGF0YSddWydjb2x1bW5zJ11bZ3JvdXBhYmxlSW5kZXgyXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBsaW5lc1tpXTtcclxuICAgICAgICB2YXIgcm93ID0ge307XHJcbiAgICAgICAgcm93WydsYWJlbFknXSA9IGZvcm1hdERhdGEoZGF0YVtncm91cGFibGVJbmRleDFdLCBjb2wxLCBvcHRpb25zKTtcclxuICAgICAgICByb3dbJ2xhYmVsWCddID0gZm9ybWF0RGF0YShkYXRhW2dyb3VwYWJsZUluZGV4Ml0sIGNvbDIsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJvd1sndW5mb3JtYXRZJ10gPSBkYXRhW2dyb3VwYWJsZUluZGV4MV07XHJcbiAgICAgICAgcm93Wyd1bmZvcm1hdFgnXSA9IGRhdGFbZ3JvdXBhYmxlSW5kZXgyXTtcclxuICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZUZsb2F0KGRhdGFbbm90R3JvdXBhYmxlSW5kZXhdKTtcclxuICAgICAgICByb3dbJ3ZhbHVlJ10gPSB2YWx1ZTtcclxuICAgICAgICB2YWx1ZXMucHVzaChyb3cpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlcztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGFUb0JhckNoYXJ0KGpzb24sIG9wdGlvbnMpe1xyXG4gICAgdmFyIGxpbmVzID0ganNvblsnZGF0YSddWydyb3dzJ107XHJcbiAgICB2YXIgdmFsdWVzID0gW107XHJcbiAgICB2YXIgY29sMSA9IGpzb25bJ2RhdGEnXVsnY29sdW1ucyddWzBdO1xyXG4gICAgdmFyIGhhc05lZ2F0aXZlVmFsdWVzID0gZmFsc2U7XHJcbiAgICB2YXIgZ3JvdXBhYmxlRmllbGQgPSBnZXRHcm91cGFibGVGaWVsZChqc29uKTtcclxuICAgIHZhciBub3RHcm91cGFibGVGaWVsZCA9IGdldE5vdEdyb3VwYWJsZUZpZWxkKGpzb24pO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgZGF0YSA9IGxpbmVzW2ldO1xyXG4gICAgICAgIHZhciByb3cgPSB7fTtcclxuICAgICAgICByb3dbJ2xhYmVsJ10gPSBmb3JtYXREYXRhKFxyXG4gICAgICAgICAgICBkYXRhW2dyb3VwYWJsZUZpZWxkLmluZGV4Q29sXSwgZ3JvdXBhYmxlRmllbGQuanNvbkNvbCwgb3B0aW9uc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdChkYXRhW25vdEdyb3VwYWJsZUZpZWxkLmluZGV4Q29sXSk7XHJcbiAgICAgICAgaWYodmFsdWUgPCAwICYmICFoYXNOZWdhdGl2ZVZhbHVlcyl7XHJcbiAgICAgICAgICAgIGhhc05lZ2F0aXZlVmFsdWVzID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm93Wyd2YWx1ZSddID0gdmFsdWU7XHJcblxyXG5cclxuICAgICAgICB2YWx1ZXMucHVzaChyb3cpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFt2YWx1ZXMsIGhhc05lZ2F0aXZlVmFsdWVzXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN1cHBvcnRlZERpc3BsYXlUeXBlc0FycmF5KCl7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgICd0YWJsZScsXHJcbiAgICAgICAgLy8gJ2RhdGVfcGl2b3QnLFxyXG4gICAgICAgICdwaXZvdF9jb2x1bW4nLFxyXG4gICAgICAgICdsaW5lJyxcclxuICAgICAgICAnYmFyJyxcclxuICAgICAgICAnY29sdW1uJyxcclxuICAgICAgICAnaGVhdG1hcCcsXHJcbiAgICAgICAgJ2J1YmJsZScsXHJcbiAgICAgICAgJ3N0YWNrZWRfYmFyJyxcclxuICAgICAgICAnc3RhY2tlZF9jb2x1bW4nXHJcbiAgICBdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVPYmplY3Qoc291cmNlKSB7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNvdXJjZSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcclxuICAgICAgICB2YXIgY2xvbmUgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c291cmNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNsb25lW2ldID0gY2xvbmVPYmplY3Qoc291cmNlW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2Yoc291cmNlKT09XCJvYmplY3RcIikge1xyXG4gICAgICAgIHZhciBjbG9uZSA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIGNsb25lW3Byb3BdID0gY2xvbmVPYmplY3Qoc291cmNlW3Byb3BdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWZyZXNoVG9vbHRpcHMoKXtcclxuICAgIHRpcHB5KCcuY2hhdGEtaW50ZXJwcmV0YXRpb24nLCB7XHJcbiAgICAgICAgdGhlbWU6ICdjaGF0YScsXHJcbiAgICAgICAgb25TaG93OiBmdW5jdGlvbihpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gQ2hhdGFVdGlscy5yZXNwb25zZXNbaW5zdGFuY2UucmVmZXJlbmNlLmRhdGFzZXQuaWRdWydkYXRhJ107XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ICA9IGA8c3BhbiBjbGFzcz0ndGl0bGUtdGlwJz5JbnRlcnByZXRhdGlvbjo8L3NwYW4+IDxzcGFuIGNsYXNzPVwidGV4dC10aXBcIj4ke2RhdGFbJ2ludGVycHJldGF0aW9uJ119PC9zcGFuPmA7XHJcbiAgICAgICAgICAgIC8vIGlmKENoYXRhVXRpbHMub3B0aW9ucy5kZWJ1Zyl7XHJcbiAgICAgICAgICAgIC8vICAgICBjb250ZW50ICs9IGA8L2JyPjwvYnI+XHJcbiAgICAgICAgICAgIC8vICAgICA8c3BhbiBjbGFzcz0ndGl0bGUtdGlwJz5TUUw6PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRleHQtdGlwXCI+JHtkYXRhWydzcWwnXX08L3NwYW4+XHJcbiAgICAgICAgICAgIC8vICAgICBgO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnNldENvbnRlbnQoXHJcbiAgICAgICAgICAgICAgICBjb250ZW50XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aXBweSgnW2RhdGEtdGlwcHktY29udGVudF0nLCB7XHJcbiAgICAgICAgdGhlbWU6ICdjaGF0YScsXHJcbiAgICAgICAgZGVsYXk6IFs1MDBdLFxyXG4gICAgICAgIGR5bmFtaWNUaXRsZTogdHJ1ZVxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvb2x0aXBDaGFydHMoKXtcclxuICAgIHZhciBnZXQyZENvbnRlbnQgPSAoaW5zdGFuY2UpID0+IHtcclxuICAgICAgICB2YXIgZGF0YXNldCA9IGluc3RhbmNlLnJlZmVyZW5jZS5kYXRhc2V0O1xyXG4gICAgICAgIHZhciBjb250ZW50ICA9IGA8c3BhbiBjbGFzcz0ndGl0bGUtdGlwJz4ke2RhdGFzZXQuY29sMX06PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRleHQtdGlwXCI+JHtkYXRhc2V0LmNvbHZhbHVlMX08L3NwYW4+YDtcclxuICAgICAgICBjb250ZW50ICs9ICc8YnIvPic7XHJcbiAgICAgICAgY29udGVudCArPSBgPHNwYW4gY2xhc3M9J3RpdGxlLXRpcCc+JHtkYXRhc2V0LmNvbDJ9Ojwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXh0LXRpcFwiPiR7ZGF0YXNldC5jb2x2YWx1ZTJ9PC9zcGFuPmBcclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICB0aXBweSgnLnRvb2x0aXAtMmQnLCB7XHJcbiAgICAgICAgdGhlbWU6ICdjaGF0YScsXHJcbiAgICAgICAgb25TaG93OiBmdW5jdGlvbihpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnNldENvbnRlbnQoXHJcbiAgICAgICAgICAgICAgICBnZXQyZENvbnRlbnQoaW5zdGFuY2UpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aXBweSgnLnRvb2x0aXAtM2QnLCB7XHJcbiAgICAgICAgdGhlbWU6ICdjaGF0YScsXHJcbiAgICAgICAgb25TaG93OiBmdW5jdGlvbihpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhc2V0ID0gaW5zdGFuY2UucmVmZXJlbmNlLmRhdGFzZXQ7XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gZ2V0MmRDb250ZW50KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgY29udGVudCArPSAnPGJyLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50ICs9IGA8c3BhbiBjbGFzcz0ndGl0bGUtdGlwJz4ke2RhdGFzZXQuY29sM306PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRleHQtdGlwXCI+JHtkYXRhc2V0LmNvbHZhbHVlM308L3NwYW4+YDtcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0Q29udGVudChcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlGaWx0ZXIoaWRSZXF1ZXN0LCBhcnJheSl7XHJcbiAgICB2YXIgX3RhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY29tcG9uZW50aWQ9JyR7aWRSZXF1ZXN0fSddYCk7XHJcbiAgICB2YXIgaW5wdXRzID0gX3RhYmxlLmhlYWRlckVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7XHJcbiAgICB2YXIganNvbiA9IENoYXRhVXRpbHMucmVzcG9uc2VzW190YWJsZS5kYXRhc2V0LmNvbXBvbmVudGlkXTtcclxuICAgIHZhciByb3dzID0gYXJyYXkgfHwgY2xvbmVPYmplY3QoanNvblsnZGF0YSddWydyb3dzJ10pO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZihpbnB1dHNbaV0udmFsdWUgPT0gJycpY29udGludWU7XHJcbiAgICAgICAgdmFyIGNvbFR5cGUgPSBpbnB1dHNbaV0uY29sVHlwZTtcclxuICAgICAgICB2YXIgY29tcGFyZVZhbHVlID0gaW5wdXRzW2ldLnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgcm93cyA9IHJvd3MuZmlsdGVyKGZ1bmN0aW9uKGVsZW0pe1xyXG4gICAgICAgICAgICB2YXIgdiA9IGVsZW1baV07XHJcbiAgICAgICAgICAgIGlmKGNvbFR5cGUgPT0gJ0RBVEUnKXtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtYXREYXRlID0gZm9ybWF0RGF0YShcclxuICAgICAgICAgICAgICAgICAgICB2LFxyXG4gICAgICAgICAgICAgICAgICAgIGpzb25bJ2RhdGEnXVsnY29sdW1ucyddW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgIENoYXRhVXRpbHMub3B0aW9uc1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjb21wYXJlVmFsdWUpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihcclxuICAgICAgICAgICAgICAgIGNvbFR5cGUgPT0gJ0RPTExBUl9BTVQnIHx8XHJcbiAgICAgICAgICAgICAgICBjb2xUeXBlID09ICdRVUFOVElUWScgfHxcclxuICAgICAgICAgICAgICAgIGNvbFR5cGUgPT0gJ1BFUkNFTlQnXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyaW1tZWRWYWx1ZSA9IGNvbXBhcmVWYWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHJpbW1lZFZhbHVlLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyID0gcGFyc2VGbG9hdCh0cmltbWVkVmFsdWUuc3Vic3RyKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHJpbW1lZFZhbHVlWzBdID09PSAnPicgJiYgdHJpbW1lZFZhbHVlWzFdID09PSAnPScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYgPj0gbnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJpbW1lZFZhbHVlWzBdID09PSAnPicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYgPiBudW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmltbWVkVmFsdWVbMF0gPT09ICc8JyAmJiB0cmltbWVkVmFsdWVbMV0gPT09ICc9Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdiA8PSBudW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmltbWVkVmFsdWVbMF0gPT09ICc8Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdiA8IG51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyaW1tZWRWYWx1ZVswXSA9PT0gJyEnICYmIHRyaW1tZWRWYWx1ZVsxXSA9PT0gJz0nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ICE9PSBudW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmltbWVkVmFsdWVbMF0gPT09ICc9Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdiA9PT0gbnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB2LnRvU3RyaW5nKCkuaW5jbHVkZXMoY29tcGFyZVZhbHVlKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdi50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoY29tcGFyZVZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJvd3M7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBodG1sVG9FbGVtZW50KGh0bWwpIHtcclxuICAgIHZhciB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XHJcbiAgICBodG1sID0gaHRtbC50cmltKCk7XHJcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRhYmxlQ29udGFpbmVyKCl7XHJcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnYXV0b3FsLXZhbmlsbGEtY2hhdGEtdGFibGUnKTtcclxuICAgIHJldHVybiBkaXY7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXROdW1iZXJPZkdyb3VwYWJsZXMgPSBjb2x1bW5zID0+IHtcclxuICAgIGlmIChjb2x1bW5zKSB7XHJcbiAgICAgICAgbGV0IG51bWJlck9mR3JvdXBhYmxlcyA9IDBcclxuICAgICAgICBjb2x1bW5zLmZvckVhY2goY29sID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbC5ncm91cGFibGUpIHtcclxuICAgICAgICAgICAgICAgIG51bWJlck9mR3JvdXBhYmxlcyArPSAxXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBudW1iZXJPZkdyb3VwYWJsZXNcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzdXBwb3J0c1JlZ3VsYXJQaXZvdFRhYmxlID0gY29sdW1ucyA9PiB7XHJcbiAgICBjb25zdCBoYXNUd29Hcm91cGFibGVzID0gZ2V0TnVtYmVyT2ZHcm91cGFibGVzKGNvbHVtbnMpID09PSAyXHJcbiAgICByZXR1cm4gaGFzVHdvR3JvdXBhYmxlcyAmJiBjb2x1bW5zLmxlbmd0aCA9PT0gM1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgaXNDb2x1bW5OdW1iZXJUeXBlID0gY29sID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBjb2wudHlwZVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICB0eXBlID09PSAnRE9MTEFSX0FNVCcgfHxcclxuICAgICAgICB0eXBlID09PSAnUVVBTlRJVFknIHx8XHJcbiAgICAgICAgdHlwZSA9PT0gJ1BFUkNFTlQnIHx8XHJcbiAgICAgICAgdHlwZSA9PT0gJ1JBVElPJ1xyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgaXNDb2x1bW5TdHJpbmdUeXBlID0gY29sID0+IHtcclxuICAgIGNvbnN0ICB0eXBlID0gY29sLnR5cGVcclxuICAgIHJldHVybiB0eXBlID09PSAnU1RSSU5HJyB8fCB0eXBlID09PSAnREFURV9TVFJJTkcnIHx8IHR5cGUgPT09ICdEQVRFJ1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0Q29sdW1uVHlwZUFtb3VudHMgPSBjb2x1bW5zID0+IHtcclxuICAgIGxldCBhbW91bnRPZlN0cmluZ0NvbHVtbnMgPSAwXHJcbiAgICBsZXQgYW1vdW50T2ZOdW1iZXJDb2x1bW5zID0gMFxyXG5cclxuICAgIGNvbHVtbnMuZm9yRWFjaChjb2wgPT4ge1xyXG4gICAgICAgIGlmIChpc0NvbHVtbk51bWJlclR5cGUoY29sKSkge1xyXG4gICAgICAgICAgICBhbW91bnRPZk51bWJlckNvbHVtbnMgKz0gMVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNDb2x1bW5TdHJpbmdUeXBlKGNvbCkpIHtcclxuICAgICAgICAgICAgYW1vdW50T2ZTdHJpbmdDb2x1bW5zICs9IDFcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiB7IGFtb3VudE9mTnVtYmVyQ29sdW1ucywgYW1vdW50T2ZTdHJpbmdDb2x1bW5zIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHN1cHBvcnRzMkRDaGFydHMgPSBjb2x1bW5zID0+IHtcclxuICAgIGNvbnN0IGFtb3VudHMgPVxyXG4gICAgZ2V0Q29sdW1uVHlwZUFtb3VudHMoXHJcbiAgICAgICAgY29sdW1uc1xyXG4gICAgKVxyXG5cclxuICAgIHJldHVybiBhbW91bnRzLmFtb3VudE9mTnVtYmVyQ29sdW1ucyA+IDBcclxuICAgICYmIGFtb3VudHMuYW1vdW50T2ZTdHJpbmdDb2x1bW5zID4gMFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0U3VwcG9ydGVkRGlzcGxheVR5cGVzID0gcmVzcG9uc2UgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuZGlzcGxheV90eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGlzcGxheVR5cGUgPSByZXNwb25zZS5kYXRhLmRpc3BsYXlfdHlwZVxyXG5cclxuICAgICAgICBpZiAoZGlzcGxheVR5cGUgPT09ICdzdWdnZXN0aW9uJyB8fCBkaXNwbGF5VHlwZSA9PT0gJ2hlbHAnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbZGlzcGxheVR5cGVdXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb2x1bW5zID0gcmVzcG9uc2UuZGF0YS5jb2x1bW5zIHx8IFtdO1xyXG4gICAgICAgIGNvbnN0IHJvd3MgPSByZXNwb25zZS5kYXRhLnJvd3MgfHwgW107XHJcblxyXG4gICAgICAgIGlmICghY29sdW1ucyB8fCByb3dzLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN1cHBvcnRzUmVndWxhclBpdm90VGFibGUoY29sdW1ucykpIHtcclxuICAgICAgICAgICAgbGV0IHN1cHBvcnRlZERpc3BsYXlUeXBlcyA9IFsndGFibGUnXVxyXG4gICAgICAgICAgICBpZiAocm93cy5sZW5ndGggPCAxMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdXBwb3J0ZWREaXNwbGF5VHlwZXMgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ3Bpdm90X3RhYmxlJyxcclxuICAgICAgICAgICAgICAgICAgICAnc3RhY2tlZF9iYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFja2VkX2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YWNrZWRfbGluZScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2J1YmJsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2hlYXRtYXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICd0YWJsZSdcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3VwcG9ydGVkRGlzcGxheVR5cGVzXHJcbiAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0czJEQ2hhcnRzKGNvbHVtbnMpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZERpc3BsYXlUeXBlcyA9IFsndGFibGUnLCAnYmFyJywgJ2NvbHVtbicsICdsaW5lJ11cclxuICAgICAgICAgICAgc3VwcG9ydGVkRGlzcGxheVR5cGVzLnB1c2goJ3BpZScpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlQ29sdW1uID0gY29sdW1ucy5maW5kKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbCA9PiBjb2wudHlwZSA9PT0gJ0RBVEUnIHx8IGNvbC50eXBlID09PSAnREFURV9TVFJJTkcnXHJcbiAgICAgICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICAgICAgaWYoZGF0ZUNvbHVtbil7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlQ29sdW1uLm5hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUNvbHVtbi5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ21vbnRoJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5sZW5ndGggPT09IDJcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkRGlzcGxheVR5cGVzLnB1c2goJ3Bpdm90X3RhYmxlJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwcG9ydGVkRGlzcGxheVR5cGVzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFsndGFibGUnXVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBbJ3RhYmxlJ11cclxuICAgICAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGp1c3RUYWJsZVdpZHRoKHRhYmxlLCB0aEFycmF5LCBjb2xzLCBzZWxlY3Rvcj0nW2RhdGEtaW5kZXhyb3ddJywgb2Zmc2V0PTApe1xyXG5cclxuICAgIHZhciBoZWFkZXJXaWR0aCA9IDA7XHJcbiAgICB2YXIgcm93c0VsZW1lbnRzID0gdGFibGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgICB2YXIgdGRFbCA9IHJvd3NFbGVtZW50c1swXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKTtcclxuICAgIHZhciBzaXplcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgeCA9IDA7IHggPCB0ZEVsLmxlbmd0aDsgeCsrKSB7XHJcblxyXG4gICAgICAgIGlmKGNvbHNbeF0gJiYgJ2lzX3Zpc2libGUnIGluIGNvbHNbeF0gJiYgIWNvbHNbeF1bJ2lzX3Zpc2libGUnXSljb250aW51ZTtcclxuXHJcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGhBcnJheVt4XS50ZXh0Q29udGVudDtcclxuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgZGl2LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XHJcblxyXG4gICAgICAgIHcgPSB0ZEVsW3hdLm9mZnNldFdpZHRoO1xyXG5cclxuICAgICAgICBpZihkaXYub2Zmc2V0V2lkdGggPiB0ZEVsW3hdLm9mZnNldFdpZHRoKXtcclxuICAgICAgICAgICAgdyA9IGRpdi5vZmZzZXRXaWR0aCArIDcwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3ICs9IG9mZnNldDtcclxuICAgICAgICB0aEFycmF5W3hdLnN0eWxlLndpZHRoID0gKHcpICsgJ3B4JztcclxuICAgICAgICB0ZEVsW3hdLnN0eWxlLndpZHRoID0gKHcpICsgJ3B4JztcclxuXHJcbiAgICAgICAgaGVhZGVyV2lkdGggKz0gdztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGhlYWRlcldpZHRoO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGlkZVNob3dUYWJsZUNvbHModGFibGUpe1xyXG4gICAgdmFyIGpzb24gPSBDaGF0YVV0aWxzLnJlc3BvbnNlc1t0YWJsZS5kYXRhc2V0LmNvbXBvbmVudGlkXTtcclxuICAgIHZhciBjb2xzID0ganNvblsnZGF0YSddWydjb2x1bW5zJ107XHJcbiAgICBjb25zdCB0aExpc3QgPSB0YWJsZS5oZWFkZXJFbGVtZW50LmNoaWxkTm9kZXM7XHJcbiAgICBjb25zdCB0ckxpc3QgPSB0YWJsZS5jaGlsZE5vZGVzO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZighY29sc1tpXVsnaXNfdmlzaWJsZSddKXtcclxuICAgICAgICAgICAgdGhMaXN0W2ldLmNsYXNzTGlzdC5hZGQoJ2NoYXRhLWhpZGRlbicpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aExpc3RbaV0uY2xhc3NMaXN0LnJlbW92ZSgnY2hhdGEtaGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHRkTGlzdCA9IHRyTGlzdFtpXS5jaGlsZE5vZGVzO1xyXG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGRMaXN0Lmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgIGlmKCFjb2xzW3hdWydpc192aXNpYmxlJ10pe1xyXG4gICAgICAgICAgICAgICAgdGRMaXN0W3hdLmNsYXNzTGlzdC5hZGQoJ2NoYXRhLWhpZGRlbicpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRkTGlzdFt4XS5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0YS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cmluZ1dpZHRoKHN0cmluZyl7XHJcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgZGl2LmlubmVySFRNTCA9IHN0cmluZztcclxuICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgZGl2LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgIHZhciB3aWR0aCA9IGRpdi5vZmZzZXRXaWR0aDtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2KTtcclxuICAgIHJldHVybiB3aWR0aDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFsbENvbHNIaWRkZW4oanNvbil7XHJcbiAgICB2YXIgY29scyA9IGpzb25bJ2RhdGEnXVsnY29sdW1ucyddO1xyXG4gICAgdmFyIGlzQWxsSGlkZGVuID0gdHJ1ZTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29scy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmKGNvbHNbaV0uaXNfdmlzaWJsZSl7XHJcbiAgICAgICAgICAgIGlzQWxsSGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXNBbGxIaWRkZW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbGxDb2xIaWRkZW5NZXNzYWdlKHRhYmxlKXtcclxuICAgIGNvbnN0IHJlcXVlc3RJZCA9IHRhYmxlLmRhdGFzZXQuY29tcG9uZW50aWQ7XHJcbiAgICB2YXIgY3N2SGFuZGxlck9wdGlvbiA9IHRhYmxlLnRhYnVsYXRvci5wYXJlbnRDb250YWluZXIucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAnW2RhdGEtbmFtZS1vcHRpb249XCJjc3YtaGFuZGxlclwiXSdcclxuICAgICk7XHJcblxyXG4gICAgdmFyIGNzdkNvcHlPcHRpb24gPSB0YWJsZS50YWJ1bGF0b3IucGFyZW50Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgJ1tkYXRhLW5hbWUtb3B0aW9uPVwiY29weS1jc3YtaGFuZGxlclwiXSdcclxuICAgICk7XHJcblxyXG4gICAgdmFyIGZpbHRlck9wdGlvbiA9IHRhYmxlLnRhYnVsYXRvci5wYXJlbnRDb250YWluZXIucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAnW2RhdGEtbmFtZS1vcHRpb249XCJmaWx0ZXItYWN0aW9uXCJdJ1xyXG4gICAgKTtcclxuICAgIGNvbnN0IGpzb24gPSBDaGF0YVV0aWxzLnJlc3BvbnNlc1tyZXF1ZXN0SWRdO1xyXG4gICAgdmFyIGlzQWxsSGlkZGVuID0gYWxsQ29sc0hpZGRlbihqc29uKTtcclxuICAgIGxldCBtZXNzYWdlO1xyXG4gICAgaWYodGFibGUubm9Db2x1bW5zRWxlbWVudCl7XHJcbiAgICAgICAgbWVzc2FnZSA9IHRhYmxlLm5vQ29sdW1uc0VsZW1lbnQ7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBtZXNzYWdlID0gaHRtbFRvRWxlbWVudChcclxuICAgICAgICBgPGRpdiBjbGFzcz1cImF1dG9xbC12YW5pbGxhLW5vLWNvbHVtbnMtZXJyb3ItbWVzc2FnZVwiPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGF0YS1pY29uIHdhcm5pbmctaWNvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7V0FSTklOR31cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxicj4gQWxsIGNvbHVtbnMgaW4gdGhpcyB0YWJsZSBhcmUgY3VycmVudGx5IGhpZGRlbi5cclxuICAgICAgICAgICAgICAgIFlvdSBjYW4gYWRqdXN0IHlvdXIgY29sdW1uIHZpc2liaWxpdHkgcHJlZmVyZW5jZXMgdXNpbmdcclxuICAgICAgICAgICAgICAgIHRoZSBDb2x1bW4gVmlzaWJpbGl0eSBNYW5hZ2VyXHJcbiAgICAgICAgICAgICAgICAoPHNwYW4gY2xhc3M9XCJjaGF0YS1pY29uIGV5ZS1pY29uXCI+JHtDT0xVTU5fRURJVE9SfTwvc3Bhbj4pXHJcbiAgICAgICAgICAgICAgICBpbiB0aGUgT3B0aW9ucyBUb29sYmFyLlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gKTtcclxuICAgICAgICB0YWJsZS5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRhYmxlLm5vQ29sdW1uc0VsZW1lbnQgPSBtZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGlzQWxsSGlkZGVuKXtcclxuICAgICAgICBtZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICAgICAgdGFibGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBjc3ZIYW5kbGVyT3B0aW9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgY3N2Q29weU9wdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIGZpbHRlck9wdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgIH1lbHNle1xyXG4gICAgICAgIG1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB0YWJsZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICBjc3ZIYW5kbGVyT3B0aW9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIGNzdkNvcHlPcHRpb24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgZmlsdGVyT3B0aW9uLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICB0YWJsZS50YWJ1bGF0b3IucmVkcmF3KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtb3VzZVgoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnBhZ2VYKSB7XHJcbiAgICAgICAgcmV0dXJuIGV2dC5wYWdlWDtcclxuICAgIH0gZWxzZSBpZiAoZXZ0LmNsaWVudFgpIHtcclxuICAgICAgICByZXR1cm4gZXZ0LmNsaWVudFggKyAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgP1xyXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA6XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlWShldnQpIHtcclxuICAgIGlmKGV2dC5wYWdlWSl7XHJcbiAgICAgICAgcmV0dXJuIGV2dC5wYWdlWTtcclxuICAgIH1lbHNlIGlmIChldnQuY2xpZW50WSl7XHJcbiAgICAgICAgcmV0dXJuIGV2dC5jbGllbnRZICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgP1xyXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDpcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRBY3RpdmVJbnRlZ3JhdG9yID0gKGRvbWFpbikgPT4ge1xyXG4gICAgaWYgKGRvbWFpbi5pbmNsdWRlcygnc3BpcmEnKSkge1xyXG4gICAgICAgIHJldHVybiAnc3BpcmEnXHJcbiAgICB9IGVsc2UgaWYgKGRvbWFpbi5pbmNsdWRlcygnbG9jYXRlJykpIHtcclxuICAgICAgICByZXR1cm4gJ2xvY2F0ZSdcclxuICAgIH0gZWxzZSBpZiAoZG9tYWluLmluY2x1ZGVzKCdwdXJlZmFjdHMnKSkge1xyXG4gICAgICAgIHJldHVybiAncHVyZWZhY3RzJ1xyXG4gICAgfSBlbHNlIGlmIChkb21haW4uaW5jbHVkZXMoJ2JsdWVsaW5rJykpIHtcclxuICAgICAgICByZXR1cm4gJ2JsdWVsaW5rJ1xyXG4gICAgfSBlbHNlIGlmIChkb21haW4uaW5jbHVkZXMoJ2xlZm9ydCcpKSB7XHJcbiAgICAgICAgcmV0dXJuICdsZWZvcnQnXHJcbiAgICB9IGVsc2UgaWYgKGRvbWFpbi5pbmNsdWRlcygnbmJjY29udGVzdCcpKSB7XHJcbiAgICAgICAgcmV0dXJuICduYmNvbXAnXHJcbiAgICB9IGVsc2UgaWYgKGRvbWFpbi5pbmNsdWRlcygndml0cnV2aScpKSB7XHJcbiAgICAgICAgcmV0dXJuICd2aXRydXZpJ1xyXG4gICAgfSBlbHNlIGlmIChkb21haW4uaW5jbHVkZXMoJ2FjY291bnRpbmctZGVtbycpKSB7XHJcbiAgICAgICAgcmV0dXJuICdkZW1vJ1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAnJztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEludHJvTWVzc2FnZVRvcGljcyA9IChpbnRlZ3JhdG9yKSA9PiB7XHJcbiAgICBjb25zdCB0b3BpY3MgPVxyXG4gICAge1xyXG4gICAgICAgIHNwaXJhOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRvcGljOiAnUmV2ZW51ZScsXHJcbiAgICAgICAgICAgICAgICBxdWVyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvdGFsIHJldmVudWUgdGhpcyB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgcmV2ZW51ZSBieSBtb250aCBmb3IgdGhlIGxhc3Qgc2l4IG1vbnRocycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvdGFsIHJldmVudWUgYnkgYXJlYSBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCByZXZlbnVlIGJ5IGN1c3RvbWVyIGZvciB0aGUgbGFzdCBzaXggbW9udGhzJyxcclxuICAgICAgICAgICAgICAgICAgICAnQXZlcmFnZSByZXZlbnVlIGJ5IGFyZWEgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnQXZlcmFnZSByZXZlbnVlIGJ5IHRpY2tldCB0eXBlIGZvciB0aGUgbGFzdCBzaXggbW9udGhzJyxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRvcGljOiAnRXN0aW1hdGVzJyxcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgZXN0aW1hdGVzIGJ5IGFyZWEgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgZXN0aW1hdGVzIGJ5IHRpY2tldCB0eXBlIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ051bWJlciBvZiBlc3RpbWF0ZXMgYnkgY3VzdG9tZXIgdGhpcyB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnTnVtYmVyIG9mIGVzdGltYXRlcyBieSBqb2IgdHlwZSBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdBdmVyYWdlIGVzdGltYXRlcyBieSB0aWNrZXQgdHlwZSBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdBdmVyYWdlIGVzdGltYXRlcyBieSBtb250aCBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdVdGlsaXphdGlvbicsXHJcbiAgICAgICAgICAgICAgICBxdWVyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvdGFsIHV0aWxpemF0aW9uIG9uIHJlc291cmNlcyBsYXN0IG1vbnRoJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgcmVzb3VyY2UgaG91cnMgYnkgYXJlYSBsYXN0IG1vbnRoICcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvdGFsIGhvdXJzIHV0aWxpemVkIGZvciBwZXJzb25uZWwgbGFzdCBtb250aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvdGFsIGhvdXJzIHV0aWxpemF0aW9uIGJ5IGpvYiBsYXN0IG1vbnRoJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgaG91cnMgdXRpbGl6YXRpb24gb24gZXF1aXBtZW50IGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0F2ZXJhZ2UgaG91cnMgdXRpbGl6YXRpb24gYnkgam9iIHR5cGUgbGFzdCBtb250aCcsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ0pvYnMnLFxyXG4gICAgICAgICAgICAgICAgcXVlcmllczogW1xyXG4gICAgICAgICAgICAgICAgICAgICdBbGwgam9icyBzY2hlZHVsZWQgdG8gc3RhcnQgdGhpcyB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnQWxsIGFjdGl2ZSBqb2JzIHNjaGVkdWxlZCB0byBlbmQgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnQWxsIGpvYnMgc3RpbGwgb3BlbiBmcm9tIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FsbCBqb2JzIGluIGJpZCBzdGF0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ051bWJlciBvZiBzY2hlZHVsZWQgam9icyBieSBhcmVhJyxcclxuICAgICAgICAgICAgICAgICAgICAnTnVtYmVyIG9mIG9wZW4gam9icyBieSBjdXN0b21lcicsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ1RpY2tldHMnLFxyXG4gICAgICAgICAgICAgICAgcXVlcmllczogW1xyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCB0aWNrZXRzIGJ5IG1vbnRoIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvdGFsIHRpY2tldHMgYnkgY3VzdG9tZXIgdGhpcyB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnQXZlcmFnZSB0aWNrZXQgYnkgYXJlYSBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdBbGwgdm9pZCB0aWNrZXRzIG92ZXIgMTAwMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgICdBdmVyYWdlIHRpY2tldCBieSB0aWNrZXQgdHlwZSBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCB0aWNrZXRzIGJ5IHR5cGUgYnkgbW9udGggZm9yIHRoZSBsYXN0IHNpeCBtb250aHMnLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIGxvY2F0ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ1NhbGVzJyxcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgc2FsZXMgYnkgc3RhdGUgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnQXZlcmFnZSBzYWxlcyBieSBtb250aCBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCBzYWxlcyBieSBjdXN0b21lciB0aGlzIHllYXInLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdQdXJjaGFzZSBPcmRlcnMnLFxyXG4gICAgICAgICAgICAgICAgcXVlcmllczogW1xyXG4gICAgICAgICAgICAgICAgICAgICdMYXN0IHB1cmNoYXNlIG9yZGVyIG92ZXIgMTAwMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCBwdXJjaGFzZSBvcmRlcnMgYnkgdmVuZG9yIHRoaXMgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FsbCB1bmlzc3VlZCBwdXJjaGFzZSBvcmRlcnMgZnJvbSBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdQYXJ0cycsXHJcbiAgICAgICAgICAgICAgICBxdWVyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvcCA1IHBhcnRzIGJ5IHNhbGVzIG9yZGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAnU2hvdyBtZSBhbGwgcGFydHMgZXhwaXJpbmcgdGhpcyB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnQWxsIHBhcnRzIHByaWNlZCBiZWxvdyBsYXN0IGNvc3QnLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdNYXJnaW5zJyxcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnR3Jvc3MgbWFyZ2luIGJ5IHBhcnQgdGhpcyB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnR3Jvc3MgbWFyZ2luIGJ5IGN1c3RvbWVyIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0dyb3NzIG1hcmdpbiBieSBpbnZvaWNlIHRoaXMgeWVhcicsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgZGVtbzogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ1NhbGVzJyxcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgc2FsZXMgbGFzdCBtb250aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvcCA1IGN1c3RvbWVycyBieSBzYWxlcyB0aGlzIHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCBzYWxlcyBieSByZXZlbnVlIGFjY291bnQgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgc2FsZXMgYnkgaXRlbSBmcm9tIHNlcnZpY2VzIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0F2ZXJhZ2Ugc2FsZXMgcGVyIG1vbnRoIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ0l0ZW1zJyxcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnVG9wIDUgaXRlbXMgYnkgc2FsZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICdXaGljaCBpdGVtcyB3ZXJlIHNvbGQgdGhlIGxlYXN0IGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0F2ZXJhZ2UgaXRlbXMgc29sZCBwZXIgbW9udGggbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgcHJvZml0IHBlciBpdGVtIGxhc3QgbW9udGgnLFxyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCBpdGVtcyBzb2xkIGZvciBzZXJ2aWNlcyBsYXN0IG1vbnRoJyxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRvcGljOiAnRXhwZW5zZXMnLFxyXG4gICAgICAgICAgICAgICAgcXVlcmllczogW1xyXG4gICAgICAgICAgICAgICAgICAgICdBbGwgZXhwZW5zZXMgbGFzdCBtb250aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ01vbnRobHkgZXhwZW5zZXMgYnkgdmVuZG9yIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvdGFsIGV4cGVuc2VzIGJ5IGFjY291bnQgbGFzdCBxdWFydGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgZXhwZW5zZXMgYnkgcXVhcnRlciBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdTaG93IG1lIGV4cGVuc2VzIGxhc3QgeWVhciBvdmVyIDEwMDAwJyxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRvcGljOiAnUHVyY2hhc2UgT3JkZXJzJyxcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnQWxsIHB1cmNoYXNlcyBvdmVyIDEwMDAwIHRoaXMgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FsbCBvcGVuIHB1cmNoYXNlIG9yZGVycycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvdGFsIHB1cmNoYXNlIG9yZGVycyBieSB2ZW5kb3IgdGhpcyB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgcHVyY2hhc2Ugb3JkZXJzIGJ5IHF1YXJ0ZXIgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG9wIDUgdmVuZG9ycyBieSBwdXJjaGFzZSBvcmRlcnMnLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIGxlZm9ydDogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ0luZ3Jlc29zJyxcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnaW5ncmVzb3MgZWwgYcOxbyBwYXNhZG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdpbmdyZXNvcyB0b3RhbGVzIHBvciBtZXMgMjAxNycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3Byb21lZGlvIGRlIGxhcyBmYWN0dXJhcyBkZSBpbmdyZXNvcyBwb3IgbWVzIDIwMTcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdjdcOhbnRvcyBmYWN0dXJhcyBkZSBpbmdyZXNvcyBoYXkgcG9yIG1lcyAyMDE3JyxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRvcGljOiAnRWdyZXNvcycsXHJcbiAgICAgICAgICAgICAgICBxdWVyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2VncmVzb3MgcGFyYSBNWE4nLFxyXG4gICAgICAgICAgICAgICAgICAgICdlZ3Jlc29zIHRvdGFsZXMgcGFyYSBNWE4nLFxyXG4gICAgICAgICAgICAgICAgICAgICdwcm9tZWRpbyBkZSBsYXMgZmFjdHVyYXMgZGUgZWdyZXNvcyBwb3IgbWVzIDIwMTcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdjdcOhbnRvcyBmYWN0dXJhcyBkZSBlZ3Jlc29zIGhheSBwb3IgbWVzIDIwMTcnLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdQYWdvcycsXHJcbiAgICAgICAgICAgICAgICBxdWVyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ3BhZ29zIGVsIGHDsW8gcGFzYWRvJyxcclxuICAgICAgICAgICAgICAgICAgICAncHJvbWVkaW8gZGUgcGFnb3MgcG9yIGHDsW8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdwYWdvcyB0b3RhbGVzIDIwMTcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdwYWdvcyB0b3RhbGVzIHBvciBhdXRvcml6YWRvIHBvciB0aXBvJyxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRvcGljOiAnTsOzbWluYScsXHJcbiAgICAgICAgICAgICAgICBxdWVyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ27Ds21pbmFzJyxcclxuICAgICAgICAgICAgICAgICAgICAnbsOzbWluYSB0b3RhbCBwb3IgYcOxbycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3Byb21lZGlvIGRlIG7Ds21pbmEgcG9yIGHDsW8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdjdcOhbnRhcyBuw7NtaW5hcyBoYXkgcG9yIG1lcycsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgdml0cnV2aTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ1RpY2tldHMnLFxyXG4gICAgICAgICAgICAgICAgcXVlcmllczogW1xyXG4gICAgICAgICAgICAgICAgICAgICdBbGwgb3BlbiB0aWNrZXRzIGR1ZSB0aGlzIHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdBbGwgdGlja2V0cyBjcmVhdGVkIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ051bWJlciBvZiB0aWNrZXRzIGJ5IHN0YXR1cycsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ1dvcmsgUGFja2FnZScsXHJcbiAgICAgICAgICAgICAgICBxdWVyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FsbCB3b3JrIHBhY2thZ2VzIGNyZWF0ZWQgdGhpcyB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnaG93IG1hbnkgd29yayBwYWNrYWdlcyBmb3IgZWFjaCBtYW5hZ2VyIHRoaXMgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2hvdyBtYW55IHdvcmsgcGFja2FnZXMgYnkgdHlwZSBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdXb3JrIE9yZGVyJyxcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnTGlzdCBhbGwgd29yayBvcmRlcnMgY3JlYXRlZCB0aGlzIHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdOdW1iZXIgb2Ygd29ya2luZyBvcmRlcnMgaW4gcHJvZ3Jlc3MgYnkgcmVnaW9uIHRoaXMgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ051bWJlciBvZiB3b3JrIG9yZGVycyBieSBwcm9ncmFtIHRoaXMgeWVhcicsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgYmx1ZWxpbms6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdTYWxlcyBvcmRlcnMnLFxyXG4gICAgICAgICAgICAgICAgcXVlcmllczogW1xyXG4gICAgICAgICAgICAgICAgICAgICdBbGwgb3BlbiBzYWxlcyBvcmRlcnMgZnJvbSBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCBzYWxlcyBvcmRlcnMgYnkgY3VzdG9tZXIgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgc2FsZXMgb3JkZXJzIGJ5IG1vbnRoIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0b3BpYzogJ1Byb2R1Y3RzJyxcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnQWxsIHByb2R1Y3RzIHNvbGQgYXQgYSBsb3NzIGxhc3QgeWVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RvcCA1IGF2ZXJhZ2Ugc2FsZXMgb3JkZXJzIGJ5IHByb2R1Y3QgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgc2FsZXMgYnkgcHJvZHVjdCBieSBtb250aCBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdG9waWM6ICdHcm9zcyBtYXJnaW4nLFxyXG4gICAgICAgICAgICAgICAgcXVlcmllczogW1xyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCBncm9zcyBtYXJnaW4gYnkgY291bnRyeSBsYXN0IHllYXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdUb3RhbCBncm9zcyBtYXJnaW4gYnkgY3VzdG9tZXIgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICAnVG90YWwgZ3Jvc3MgbWFyZ2luIGJ5IHByb2R1Y3QgbGFzdCB5ZWFyJyxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b3BpY3NbaW50ZWdyYXRvcl1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlQWxsQ2hhcnRQb3BvdmVycygpe1xyXG4gICAgdmFyIGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICcuYXV0b3FsLXZhbmlsbGEtcG9wb3Zlci1zZWxlY3RvcidcclxuICAgIClcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmKGxpc3RbaV0uaXNPcGVuKWxpc3RbaV0uY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlQWxsU2FmZXR5bmV0U2VsZWN0b3JzKCl7XHJcbiAgICB2YXIgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgJy5hdXRvcWwtdmFuaWxsYS1zYWZldHluZXQtc2VsZWN0b3InXHJcbiAgICApXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZihsaXN0W2ldLmlzT3BlbilsaXN0W2ldLmhpZGUoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlQWxsVG9vbGJhcnMoKXtcclxuICAgIHZhciBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAnLmF1dG9xbC12YW5pbGxhLWNoYXQtbWVzc2FnZS10b29sYmFyLnNob3cnXHJcbiAgICApXHJcblxyXG4gICAgdmFyIHN1Ym1lbnVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAnLmNoYXRhLXBvcG92ZXItd3JhcHBlci5zaG93J1xyXG4gICAgKVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxpc3RbaV0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3VibWVudXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzdWJtZW51c1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdWdnZXN0aW9uTGlzdHMgKHF1ZXJ5LCBmdWxsU3VnZ2VzdGlvbnMpIHtcclxuICAgIGNvbnN0IHN1Z2dlc3Rpb25MaXN0cyA9IFtdXHJcbiAgICBpZiAoZnVsbFN1Z2dlc3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICAgIGZ1bGxTdWdnZXN0aW9ucy5mb3JFYWNoKChzdWdnZXN0aW9uSW5mbywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxXb3JkID0gcXVlcnkuc2xpY2UoXHJcbiAgICAgICAgICAgICAgICBzdWdnZXN0aW9uSW5mby5zdGFydCxcclxuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25JbmZvLmVuZFxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgSUQgdG8gZWFjaCBvcmlnaW5hbCBzdWdnZXN0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3VnZ2VzdGlvbkxpc3QgPSBzdWdnZXN0aW9uSW5mby5zdWdnZXN0aW9ucy5tYXAoXHJcbiAgICAgICAgICAgICAgICBzdWdnZXN0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3VnZ2VzdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBvcmlnaW5hbCBxdWVyeSB2YWx1ZSB0byBzdWdnZXN0aW9uIGxpc3RcclxuICAgICAgICAgICAgY29uc3QgbGlzdCA9IFtcclxuICAgICAgICAgICAgICAgIC4uLm9yaWdpbmFsU3VnZ2VzdGlvbkxpc3QsXHJcbiAgICAgICAgICAgICAgICB7IHRleHQ6IG9yaWdpbmFsV29yZCwgdmFsdWVfbGFiZWw6ICdPcmlnaW5hbCB0ZXJtJyB9LFxyXG4gICAgICAgICAgICBdXHJcblxyXG4gICAgICAgICAgICBzdWdnZXN0aW9uTGlzdHMucHVzaChsaXN0KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3VnZ2VzdGlvbkxpc3RzXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGFpblRleHRMaXN0KHF1ZXJ5LCBmdWxsU3VnZ2VzdGlvbnMpIHtcclxuICAgIGNvbnN0IHRleHRMaXN0ID0gW11cclxuICAgIGxldCBsYXN0RW5kSW5kZXggPSAwXHJcblxyXG4gICAgZnVsbFN1Z2dlc3Rpb25zLmZvckVhY2goKGZ1bGxTdWdnZXN0aW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHRleHRMaXN0LnB1c2gocXVlcnkuc2xpY2UobGFzdEVuZEluZGV4LCBmdWxsU3VnZ2VzdGlvbi5zdGFydCkpXHJcbiAgICAgICAgaWYgKGluZGV4ID09PSBmdWxsU3VnZ2VzdGlvbnMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0ZXh0TGlzdC5wdXNoKHF1ZXJ5LnNsaWNlKGZ1bGxTdWdnZXN0aW9uLmVuZCwgcXVlcnkubGVuZ3RoKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdEVuZEluZGV4ID0gZnVsbFN1Z2dlc3Rpb24uZW5kXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiB0ZXh0TGlzdFxyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src_node/Utils.js\n");

/***/ }),

/***/ "./src_node/index.js":
/*!***************************!*\
  !*** ./src_node/index.js ***!
  \***************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"./src_node/Utils.js\");\n\r\n\r\nconsole.log(Object(_Utils__WEBPACK_IMPORTED_MODULE_0__[\"uuidv4\"])());\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmNfbm9kZS9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyY19ub2RlL2luZGV4LmpzPzlhMmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi9VdGlscydcclxuXHJcbmNvbnNvbGUubG9nKHV1aWR2NCgpKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src_node/index.js\n");

/***/ })

/******/ });